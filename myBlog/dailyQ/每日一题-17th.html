<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>每日一题-17th | SJTU-XHW's blog</title><meta name="author" content="SJTU-XHW,sjtuxhw12345@sjtu.edu.cn"><meta name="copyright" content="SJTU-XHW"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="⭐每日一题⭐专栏 written by SJTU-XHW 本人学识有限，解析难免有错，恳请读者能够批评指正，本人将不胜感激！  LuoGu P1249. 最大乘积题目描述一个正整数一般可以分为几个互不相同的自然数的和，如 $3&#x3D;1+2$，$4&#x3D;1+3$，$5＝1+4&#x3D;2+3$，$6&#x3D;1+5＝2+4$。 现在你的任务是将指定的正整数 $n$ 分解成若干个互不相同的自然数的和，且使这些自然数的乘积最大">
<meta property="og:type" content="website">
<meta property="og:title" content="每日一题-17th">
<meta property="og:url" content="https://blog.sjtuxhw.top/dailyQ/%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98-17th.html">
<meta property="og:site_name" content="SJTU-XHW&#39;s blog">
<meta property="og:description" content="⭐每日一题⭐专栏 written by SJTU-XHW 本人学识有限，解析难免有错，恳请读者能够批评指正，本人将不胜感激！  LuoGu P1249. 最大乘积题目描述一个正整数一般可以分为几个互不相同的自然数的和，如 $3&#x3D;1+2$，$4&#x3D;1+3$，$5＝1+4&#x3D;2+3$，$6&#x3D;1+5＝2+4$。 现在你的任务是将指定的正整数 $n$ 分解成若干个互不相同的自然数的和，且使这些自然数的乘积最大">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://blog.sjtuxhw.top/img/404.png">
<meta property="article:published_time" content="2023-07-11T06:59:04.000Z">
<meta property="article:modified_time" content="2023-09-19T05:29:12.000Z">
<meta property="article:author" content="SJTU-XHW">
<meta property="article:tag" content="Programming">
<meta property="article:tag" content="Leetcode">
<meta property="article:tag" content="洛谷">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://blog.sjtuxhw.top/img/404.png"><link rel="shortcut icon" href="/img/favicon.ico"><link rel="canonical" href="https://blog.sjtuxhw.top/dailyQ/%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98-17th.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        if (name && globalFn[key][name]) return
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'undefined')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'undefined')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"未找到符合您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":300,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: '复制成功 ヾ(≧∇≦*)ゝ',
    error: '复制失败 (#`皿´)',
    noSupport: '浏览器不支持 ╮(╯_╰)╭'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"已切换为繁体中文","cht_to_chs":"已切换为简体中文","day_to_night":"已切换为深色模式","night_to_day":"已切换为浅色模式","bgLight":"#333","bgDark":"#1f1f1f","position":"top-center"},
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '每日一题-17th',
  isPost: false,
  isHome: false,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2023-09-19 13:29:12'
}</script><link rel="stylesheet" href="/css/mouseConfig.css"/><link rel="stylesheet" href="/css/rightmenu.css"/><link rel="stylesheet" href="/css/custom_music.css"/><link rel="stylesheet" href="/css/addFonts.css"/><link rel="stylesheet" href="/css/titleFonts.css"/><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="SJTU-XHW's blog" type="application/atom+xml">
</head><body><div id="loading-box"><div id="main-loading-bg"><div class="truckWrapper"><div class="truckBody"><svg class="trucksvg" viewBox="0 0 198 93" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M135 22.5H177.264C178.295 22.5 179.22 23.133 179.594 24.0939L192.33 56.8443C192.442 57.1332 192.5 57.4404 192.5 57.7504V89C192.5 90.3807 191.381 91.5 190 91.5H135C133.619 91.5 132.5 90.3807 132.5 89V25C132.5 23.6193 133.619 22.5 135 22.5Z" fill="currentColor" stroke="#282828" stroke-width="3"></path><path d="M146 33.5H181.741C182.779 33.5 183.709 34.1415 184.078 35.112L190.538 52.112C191.16 53.748 189.951 55.5 188.201 55.5H146C144.619 55.5 143.5 54.3807 143.5 53V36C143.5 34.6193 144.619 33.5 146 33.5Z" fill="#7D7C7C" stroke="#282828" stroke-width="3"></path><path d="M150 65C150 65.39 149.763 65.8656 149.127 66.2893C148.499 66.7083 147.573 67 146.5 67C145.427 67 144.501 66.7083 143.873 66.2893C143.237 65.8656 143 65.39 143 65C143 64.61 143.237 64.1344 143.873 63.7107C144.501 63.2917 145.427 63 146.5 63C147.573 63 148.499 63.2917 149.127 63.7107C149.763 64.1344 150 64.61 150 65Z" fill="#282828" stroke="#282828" stroke-width="2"></path><rect x="187" y="63" width="5" height="7" rx="1" fill="#FFFCAB" stroke="#282828" stroke-width="2"></rect><rect x="193" y="81" width="4" height="11" rx="1" fill="#282828" stroke="#282828" stroke-width="2"></rect><rect x="6.5" y="1.5" width="121" height="90" rx="2.5" fill="#DFDFDF" stroke="#282828" stroke-width="3"></rect><rect x="1" y="84" width="6" height="4" rx="2" fill="#DFDFDF" stroke="#282828" stroke-width="2"></rect></svg></div><div class="truckTires"><svg class="tiresvg" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="15" cy="15" r="13.5" fill="#282828" stroke="#282828" stroke-width="3"></circle><circle cx="15" cy="15" r="7" fill="#DFDFDF"></circle></svg><svg class="tiresvg" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="15" cy="15" r="13.5" fill="#282828" stroke="#282828" stroke-width="3"></circle><circle cx="15" cy="15" r="7" fill="#DFDFDF"></circle></svg></div><div class="road"></div><svg class="lampPost" fill="currentColor" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 453.459 453.459" xml:space="preserve"><path d="M252.882,0c-37.781,0-68.686,29.953-70.245,67.358h-6.917v8.954c-26.109,2.163-45.463,10.011-45.463,19.366h9.993 c-1.65,5.146-2.507,10.54-2.507,16.017c0,28.956,23.558,52.514,52.514,52.514c28.956,0,52.514-23.558,52.514-52.514 c0-5.478-0.856-10.872-2.506-16.017h9.992c0-9.354-19.352-17.204-45.463-19.366v-8.954h-6.149C200.189,38.779,223.924,16,252.882,16 c29.952,0,54.32,24.368,54.32,54.32c0,28.774-11.078,37.009-25.105,47.437c-17.444,12.968-37.216,27.667-37.216,78.884v113.914 h-0.797c-5.068,0-9.174,4.108-9.174,9.177c0,2.844,1.293,5.383,3.321,7.066c-3.432,27.933-26.851,95.744-8.226,115.459v11.202h45.75 v-11.202c18.625-19.715-4.794-87.527-8.227-115.459c2.029-1.683,3.322-4.223,3.322-7.066c0-5.068-4.107-9.177-9.176-9.177h-0.795 V196.641c0-43.174,14.942-54.283,30.762-66.043c14.793-10.997,31.559-23.461,31.559-60.277C323.202,31.545,291.656,0,252.882,0z M232.77,111.694c0,23.442-19.071,42.514-42.514,42.514c-23.442,0-42.514-19.072-42.514-42.514c0-5.531,1.078-10.957,3.141-16.017 h78.747C231.693,100.736,232.77,106.162,232.77,111.694z"></path></svg></div></div></div><script>(()=>{
  const $loadingBox = document.getElementById('loading-box')
  const $body = document.body
  const preloader = {
    endLoading: () => {
      $body.style.overflow = ''
      $loadingBox.classList.add('loaded')
      setTimeout(() => {
        $loadingBox.style.display = 'none'
      }, 800)
    },
    initLoading: () => {
      $body.style.overflow = 'hidden'
      $loadingBox.classList.remove('loaded')
    }
  }

  preloader.initLoading()
  window.addEventListener('load', preloader.endLoading)

  if (false) {
    btf.addGlobalFn('pjaxSend', preloader.initLoading, 'preloader_init')
    btf.addGlobalFn('pjaxComplete', preloader.endLoading, 'preloader_end')
  }
})()
</script><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/favicon.ico" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">49</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">62</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/dailyQ/"><i class="fa-fw fa-solid fa-pen-to-square"></i><span> DailyQuestion</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fa-solid fa-gamepad"></i><span> ACG-Lab</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/ACGLab/MikuTap/"><i class="fa-fw fas fa-music"></i><span> MikuTap</span></a></li><li><a class="site-page child" href="/ACGLab/Live2D/"><i class="fa-fw fa-solid fa-face-kiss-wink-heart"></i><span> Live2D</span></a></li><li><a class="site-page child" href="/ACGLab/Folio-2019/"><i class="fa-fw fa-solid fa-car-side"></i><span> Folio-2019</span></a></li><li><a class="site-page child" href="/ACGLab/Cube/"><i class="fa-fw fa-solid fa-cube"></i><span> Cube</span></a></li><li><a class="site-page child" href="/ACGLab/TowerBlocks/"><i class="fa-fw fa-solid fa-gopuram"></i><span> TBlocks</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/friend-links/"><i class="fa-fw fas fa-link"></i><span> Links</span></a></div><div class="menus_item"><a class="site-page" href="/gallery/"><i class="fa-fw fa fa-camera"></i><span> Gallery</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> About</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="not-home-page" id="page-header" style="background-image: url(/img/archive-bg.jpg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><img class="site-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/head_icon.png" alt="Logo"><span class="site-name">SJTU-XHW's blog</span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/dailyQ/"><i class="fa-fw fa-solid fa-pen-to-square"></i><span> DailyQuestion</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fa-solid fa-gamepad"></i><span> ACG-Lab</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/ACGLab/MikuTap/"><i class="fa-fw fas fa-music"></i><span> MikuTap</span></a></li><li><a class="site-page child" href="/ACGLab/Live2D/"><i class="fa-fw fa-solid fa-face-kiss-wink-heart"></i><span> Live2D</span></a></li><li><a class="site-page child" href="/ACGLab/Folio-2019/"><i class="fa-fw fa-solid fa-car-side"></i><span> Folio-2019</span></a></li><li><a class="site-page child" href="/ACGLab/Cube/"><i class="fa-fw fa-solid fa-cube"></i><span> Cube</span></a></li><li><a class="site-page child" href="/ACGLab/TowerBlocks/"><i class="fa-fw fa-solid fa-gopuram"></i><span> TBlocks</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/friend-links/"><i class="fa-fw fas fa-link"></i><span> Links</span></a></div><div class="menus_item"><a class="site-page" href="/gallery/"><i class="fa-fw fa fa-camera"></i><span> Gallery</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="page-site-info"><h1 id="site-title">每日一题-17th</h1></div></header><main class="layout" id="content-inner"><div id="page"><div id="article-container"><p>⭐每日一题⭐专栏</p>
<p><i>written by SJTU-XHW</i></p>
<p><i>本人学识有限，解析难免有错，恳请读者能够批评指正，本人将不胜感激！</i></p>
<hr>
<h2 id="LuoGu-P1249-最大乘积"><a href="#LuoGu-P1249-最大乘积" class="headerlink" title="LuoGu P1249. 最大乘积"></a>LuoGu P1249. 最大乘积</h2><h3 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h3><p>一个正整数一般可以分为几个互不相同的自然数的和，如 $3=1+2$，$4=1+3$，$5＝1+4=2+3$，$6=1+5＝2+4$。</p>
<p>现在你的任务是将指定的正整数 $n$ 分解成若干个互不相同的自然数的和，且使这些自然数的乘积最大。</p>
<h2 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h2><h3 id="输入格式"><a href="#输入格式" class="headerlink" title="输入格式"></a>输入格式</h3><p>只一个正整数 $n$，（$3 \leq n \leq 10000$）。</p>
<h3 id="输出格式"><a href="#输出格式" class="headerlink" title="输出格式"></a>输出格式</h3><p>第一行是分解方案，相邻的数之间用一个空格分开，并且按由小到大的顺序。</p>
<p>第二行是最大的乘积。</p>
<h3 id="样例-1-输入"><a href="#样例-1-输入" class="headerlink" title="样例 1 输入"></a>样例 1 输入</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">10</span><br></pre></td></tr></table></figure>
<h3 id="样例-1-输出"><a href="#样例-1-输出" class="headerlink" title="样例 1 输出"></a>样例 1 输出</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">2 3 5</span><br><span class="line">30</span><br></pre></td></tr></table></figure>
<h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>这题乍一看好像无从下手，仔细想想好像有迹可循：“将数 $n$ 拆成更大、更多的 ‘和因子’”，这些 “和因子” 的乘积就是最终答案；</p>
<p>一看 $n$ 的范围，最大是 10000，好家伙……再怎么拆，因子乘积的答案用 C++ 内置的所有数据类型都装不下，，所以必然是要 <strong>高精度乘法运算</strong> 的；这题的难度因为 高精度，瞬间就提示了一个档次……</p>
<p>在相乘之前，还要考虑这些 “和因子” 怎么拆。本人想了很长时间都没有办法，只得使用<strong>贪心法来碰运气</strong>（众所周知，使用没有被证明的贪心法，其正确性是没有保证的）。以下为分析过程：</p>
<ol>
<li><p>因为 “一个有限的正数 $n$ 拆成若干互不相等的自然数之和” 的情况<strong>一定是有限种</strong>，所以在多项式时间内一定能求出最大值（不是 NP 问题，doge）；</p>
</li>
<li><p>考虑<strong>拆出来的数里面一定不会有 1</strong>。因为如果有 1，那么一定有一个比现在拆分方式的乘积更大的方法（$1\cdot x=x$，所以不如把这个 1 加到其他数上，一定比原来的大）；</p>
</li>
<li><p>这里<strong>使用了贪心法作假设：只要拆出来的因数越多，它们的乘积越大</strong>。即假设以下命题成立：</p>
<script type="math/tex; mode=display">
若\space a_i\ge3\space且\sum\limits_{i=1}^ka_i=const\space且\space a_i\ne a_j\space(i\ne j),\space 则\prod\limits_{i=1}^ka_i\space取最大值\Leftrightarrow k\space取最大值</script><blockquote>
<p>事实上，在我写完题目才发现上面的命题是成立的，不用假设，可以来一个学过数论的同学证一证 ~</p>
</blockquote>
</li>
<li><p><strong>在第2、3思路的基础上</strong>，想让乘积最大，必然要让拆分的因子从<strong>尽可能小的数</strong>开始（不重复）2，3，4，5，……，$x$（1 不在）；所以<strong>把 $n$ 分成 $2+3+\cdots+x$ 直至加到大于等于 $n$ </strong>；以下分几种情况：</p>
<ul>
<li><p>若 $2+3+\cdots+x=n$，那么太棒了，根据假设，这样的拆分就是答案，并且乘积是 $x!$，接下来用高精度运算就行；</p>
<blockquote>
<p>那么如果不等的话，会比 $n$ 大多少呢？我们不妨设  $2+3+\cdots+x$ 比 $n$ 大了 $c$；</p>
<p>我们发现， $c$ 一定不会比 $x$ 大，如果是，那么一定会存在序列：$2+3+\cdots+(x-1)\gt n$，这样 $x$ 是不满足定义的；<strong>所以 $c\in[1,x]$</strong>；</p>
</blockquote>
</li>
<li><p>若 $c\in[2,x]$，那么 <strong>$c$ 一定在这些因子（2~$x$）中，直接剔除它就行了！</strong></p>
</li>
<li><p>若 $c=1$，好像在因子里找不到了！怎么办！只能想新的办法：把最小的 2 拆了，一个 1 删掉，另一个<strong>补在最大的因子 $x$ 上</strong>；</p>
<blockquote>
<p>为啥补在最大的数上？<strong>事实上这么做是不对的！因为举个例子：$(n-1+1)n\gt(n-1)(n+1)$</strong>；</p>
<p>但这道题没事，因为<strong>拆分的因子不允许重复</strong>！显然有下面的命题成立：</p>
<script type="math/tex; mode=display">
a_1\gt a_2\Longrightarrow(a_1+1)a_2\lt a_1(a_2+1)</script></blockquote>
</li>
</ul>
</li>
</ol>
<p>这样所有的问题都解决了！虽然我用这种方法（就叫 <strong>贪心-累加剔除法</strong> 吧）做完了，但是看了看题解，还有同学竟然能用上 <strong>01背包算法</strong>！</p>
<p>我看了看，他的思路非常巧妙，利用了对数的性质：$ln\space a+ln\space b=ln(ab)$，<strong>要求拆分因子的乘积最大，就是求这些拆分因子的对数和最大</strong>，问题转化为（n 是输入参数）：</p>
<script type="math/tex; mode=display">
已知\space a_i\ge3,\space a_i\in\mathbf{N},\space\sum\limits_{i=1}^ka_i=n,\space求\sum\limits_{i=1}^kln\space a_i\space的最大值</script><p><strong>就是经典 01 背包问题！从 $n$ 个自然数中选出 $k$ 个数，使得其对数和最大：$n$ 个物品（每一类仅有一个）、背包体积为 $n$、每个物品体积 $C_i=i$、每个物品价值 $W_i=ln\space i$</strong>（$i\in[1,k]$）；</p>
<p>另外背包<strong>一定能恰好装满</strong>：因为这里 $\sum\limits_{i=1}^ka_i=n$；</p>
<p>下面将这两个方法都实现一遍；</p>
<h2 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h2><p>先实现模拟高精度类（不需要的功能可以自己删掉，这里为了未来的重用性功能写的丰富些，比如这道题只用到了 <strong>构造函数、赋值运算符重载函数</strong> 和 <code>LongLongInt operator*(const LongLongInt&amp; a, const LongLongInt&amp; b)</code> 这三个函数）：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> _self_uInt_3248_h</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> _self_uInt_3248_h</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">LongLongInt</span> &#123;</span><br><span class="line">    <span class="keyword">friend</span> ostream&amp; <span class="keyword">operator</span>&lt;&lt;(ostream&amp; os, <span class="type">const</span> LongLongInt&amp; i);</span><br><span class="line">    <span class="keyword">friend</span> istream&amp; <span class="keyword">operator</span>&gt;&gt;(istream&amp; is, LongLongInt&amp; i);</span><br><span class="line">    <span class="keyword">friend</span> LongLongInt <span class="keyword">operator</span>+(<span class="type">const</span> LongLongInt&amp; a, <span class="type">const</span> LongLongInt&amp; b);</span><br><span class="line">    <span class="keyword">friend</span> LongLongInt <span class="keyword">operator</span>*(<span class="type">const</span> LongLongInt&amp; a, <span class="type">const</span> LongLongInt&amp; b);</span><br><span class="line">    <span class="keyword">friend</span> <span class="type">bool</span> <span class="keyword">operator</span>==(<span class="type">const</span> LongLongInt&amp; iL1, <span class="type">const</span> LongLongInt&amp; iL2);</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">char</span>* ch;</span><br><span class="line">    <span class="type">int</span> length;</span><br><span class="line">    <span class="type">static</span> <span class="keyword">constexpr</span> <span class="type">int</span> MaxLength = <span class="number">10000</span>;</span><br><span class="line">    <span class="function"><span class="type">char</span>* <span class="title">LongLong2String</span><span class="params">(<span class="type">long</span> <span class="type">long</span> i, <span class="type">int</span> &amp;len)</span> <span class="type">const</span></span>;</span><br><span class="line">    <span class="function">LongLongInt <span class="title">digitMulti</span><span class="params">(<span class="type">int</span> digit)</span> <span class="type">const</span></span>;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">LongLongInt</span>();</span><br><span class="line">    <span class="built_in">LongLongInt</span>(<span class="type">const</span> <span class="type">long</span> <span class="type">long</span>&amp; iL);</span><br><span class="line">    <span class="built_in">LongLongInt</span>(<span class="type">const</span> LongLongInt&amp; num);</span><br><span class="line">    <span class="built_in">LongLongInt</span>(LongLongInt&amp;&amp; tempIL);</span><br><span class="line">    ~<span class="built_in">LongLongInt</span>();</span><br><span class="line">    LongLongInt&amp; <span class="keyword">operator</span>=(<span class="type">const</span> LongLongInt&amp; iL);</span><br><span class="line">    LongLongInt&amp; <span class="keyword">operator</span>=(LongLongInt&amp;&amp; tempIL);</span><br><span class="line">    LongLongInt <span class="keyword">operator</span>&lt;&lt;(<span class="type">const</span> <span class="type">int</span>&amp; moveDigit) <span class="type">const</span>;</span><br><span class="line">    LongLongInt <span class="keyword">operator</span>&gt;&gt;(<span class="type">const</span> <span class="type">int</span>&amp; moveDigit) <span class="type">const</span>;</span><br><span class="line">    <span class="function">LongLongInt <span class="title">factorial</span><span class="params">()</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> <span class="comment">// !_self_uInt_3248_h</span></span></span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;self_uInt_3248.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Constructors &amp; Destructors----------------------------------</span></span><br><span class="line"></span><br><span class="line">LongLongInt::<span class="built_in">LongLongInt</span>() &#123; ch = <span class="keyword">new</span> <span class="type">char</span>[MaxLength] &#123;<span class="string">&#x27;0&#x27;</span>&#125;; length = <span class="number">1</span>; &#125;</span><br><span class="line"></span><br><span class="line">LongLongInt::<span class="built_in">LongLongInt</span>(<span class="type">const</span> <span class="type">long</span> <span class="type">long</span>&amp; iL) &#123; ch = <span class="built_in">LongLong2String</span>(iL, length); &#125;</span><br><span class="line"></span><br><span class="line">LongLongInt::<span class="built_in">LongLongInt</span>(<span class="type">const</span> LongLongInt&amp; num) &#123;</span><br><span class="line">    ch = <span class="keyword">new</span> <span class="type">char</span>[num.length + <span class="number">1</span>] &#123;<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; num.length; ++i) ch[i] = num.ch[i];</span><br><span class="line">    ch[num.length] = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">    length = num.length;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">LongLongInt::<span class="built_in">LongLongInt</span>(LongLongInt&amp;&amp; tempIL) &#123;</span><br><span class="line">    ch = tempIL.ch; length = tempIL.length;</span><br><span class="line">    tempIL.ch = <span class="literal">nullptr</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">LongLongInt::~<span class="built_in">LongLongInt</span>() &#123; <span class="keyword">if</span> (ch) <span class="keyword">delete</span> ch; &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//-------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Tool functions -----------------------------------</span></span><br><span class="line"><span class="function"><span class="type">char</span>* <span class="title">LongLongInt::LongLong2String</span><span class="params">(<span class="type">long</span> <span class="type">long</span> i, <span class="type">int</span>&amp; len)</span> <span class="type">const</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!i) &#123; <span class="type">char</span>* c = <span class="keyword">new</span> <span class="type">char</span>[<span class="number">2</span>] &#123;<span class="string">&#x27;0&#x27;</span>, <span class="string">&#x27;\0&#x27;</span>&#125;; len = <span class="number">1</span>; <span class="keyword">return</span> c; &#125;</span><br><span class="line">    <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span> mag = <span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> digitNum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (; i / mag; mag *= <span class="number">10</span>, ++digitNum); mag /= <span class="number">10</span>;</span><br><span class="line">    len = digitNum;</span><br><span class="line">    <span class="type">char</span>* invStr = <span class="keyword">new</span> <span class="type">char</span>[digitNum + <span class="number">1</span>] &#123;<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="keyword">for</span> (; digitNum; mag /= <span class="number">10</span>, --digitNum) &#123;</span><br><span class="line">        invStr[digitNum - <span class="number">1</span>] = i % (mag * <span class="number">10</span>) / mag + <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    invStr[len] = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">    <span class="keyword">return</span> invStr;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">LongLongInt <span class="title">LongLongInt::digitMulti</span><span class="params">(<span class="type">int</span> digit)</span> <span class="type">const</span> </span>&#123;</span><br><span class="line">    LongLongInt ans;</span><br><span class="line">    <span class="type">int</span> preOut = <span class="number">0</span>, out = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; length; ++i) &#123;</span><br><span class="line">        <span class="type">int</span> temp = (ch[i] - <span class="string">&#x27;0&#x27;</span>) * digit + preOut;</span><br><span class="line">        <span class="keyword">if</span> (temp &gt;= <span class="number">10</span>) &#123; out = temp / <span class="number">10</span>; temp -= out * <span class="number">10</span>; &#125;</span><br><span class="line">        ans.ch[i] = temp + <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">        preOut = out; out = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    ans.length = length;</span><br><span class="line">    <span class="keyword">if</span> (preOut) &#123; ans.ch[length] = preOut + <span class="string">&#x27;0&#x27;</span>; ans.ch[length + <span class="number">1</span>] = <span class="string">&#x27;\0&#x27;</span>; ++ans.length; &#125;</span><br><span class="line">    <span class="keyword">else</span> ans.ch[length] = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//-------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// overload functions ---------------------------------</span></span><br><span class="line"></span><br><span class="line">LongLongInt&amp; LongLongInt::<span class="keyword">operator</span>=(<span class="type">const</span> LongLongInt&amp; iL) &#123;</span><br><span class="line">    <span class="keyword">if</span> (&amp;iL == <span class="keyword">this</span>) <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (ch) <span class="keyword">delete</span> ch;</span><br><span class="line">    ch = <span class="keyword">new</span> <span class="type">char</span>[iL.length + <span class="number">1</span>] &#123;<span class="number">0</span>&#125;;</span><br><span class="line">    length = iL.length;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; iL.length; ++i) ch[i] = iL.ch[i];</span><br><span class="line">    ch[length] = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">    <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">LongLongInt&amp; LongLongInt::<span class="keyword">operator</span>=(LongLongInt&amp;&amp; tempIL) &#123;</span><br><span class="line">    <span class="keyword">if</span> (&amp;tempIL == <span class="keyword">this</span>) <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (ch) <span class="keyword">delete</span> ch;</span><br><span class="line">    ch = tempIL.ch; length = tempIL.length;</span><br><span class="line">    tempIL.ch = <span class="literal">nullptr</span>;</span><br><span class="line">    <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">bool</span> <span class="keyword">operator</span>==(<span class="type">const</span> LongLongInt&amp; iL1, <span class="type">const</span> LongLongInt&amp; iL2) &#123;</span><br><span class="line">    <span class="keyword">return</span> !<span class="built_in">strcmp</span>(iL1.ch, iL2.ch);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">istream&amp; <span class="keyword">operator</span>&gt;&gt;(istream&amp; is, LongLongInt&amp; iL) &#123;</span><br><span class="line">    <span class="keyword">if</span> (iL.ch) <span class="keyword">delete</span> iL.ch;</span><br><span class="line">    <span class="type">char</span>* temp = <span class="keyword">new</span> <span class="type">char</span>[iL.MaxLength] &#123;<span class="number">0</span>&#125;;</span><br><span class="line">    is &gt;&gt; temp; <span class="type">int</span> len = <span class="built_in">strlen</span>(temp);</span><br><span class="line">    iL.ch = <span class="keyword">new</span> <span class="type">char</span>[len + <span class="number">1</span>] &#123;<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; len; ++i) iL.ch[i] = temp[len - i - <span class="number">1</span>];</span><br><span class="line">    iL.ch[len] = <span class="string">&#x27;\0&#x27;</span>; iL.length = len;</span><br><span class="line">    <span class="keyword">return</span> is;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ostream&amp; <span class="keyword">operator</span>&lt;&lt;(ostream&amp; os, <span class="type">const</span> LongLongInt&amp; iL) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = iL.length - <span class="number">1</span>; i &gt;= <span class="number">0</span> &amp;&amp; iL.ch[i]; --i) os &lt;&lt; iL.ch[i];</span><br><span class="line">    <span class="keyword">return</span> os;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">LongLongInt <span class="keyword">operator</span>+(<span class="type">const</span> LongLongInt&amp; a, <span class="type">const</span> LongLongInt&amp; b) &#123;</span><br><span class="line">    <span class="type">const</span> LongLongInt&amp; maxLenNum = (a.length &gt;= b.length ? a : b),</span><br><span class="line">        &amp; minLenNum = (a.length &lt; b.length ? a : b);</span><br><span class="line">    LongLongInt ans; ans.length = maxLenNum.length;</span><br><span class="line">    <span class="type">bool</span> preOut = <span class="number">0</span>, out = <span class="number">0</span>, minEnd = <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> indexOfMax = <span class="number">0</span>, indexOfMin = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (; indexOfMax &lt; maxLenNum.length; ++indexOfMax) &#123;</span><br><span class="line">        <span class="type">int</span> temp = minLenNum.ch[indexOfMin] - (minEnd ? <span class="string">&#x27;\0&#x27;</span> : <span class="string">&#x27;0&#x27;</span>) + maxLenNum.ch[indexOfMax] - <span class="string">&#x27;0&#x27;</span> + preOut;</span><br><span class="line">        <span class="keyword">if</span> (temp &gt;= <span class="number">10</span>) &#123; temp -= <span class="number">10</span>; out = <span class="number">1</span>; &#125;</span><br><span class="line">        ans.ch[indexOfMax] = temp + <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">        preOut = out; out = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (indexOfMin &lt; minLenNum.length) &#123; ++indexOfMin; <span class="keyword">if</span> (indexOfMin &gt; minLenNum.length - <span class="number">1</span>) minEnd = <span class="number">1</span>; &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (preOut) &#123; ans.ch[indexOfMax] = <span class="string">&#x27;1&#x27;</span>; ++ans.length; ++indexOfMax; &#125;</span><br><span class="line">    ans.ch[indexOfMax] = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">LongLongInt <span class="keyword">operator</span>*(<span class="type">const</span> LongLongInt&amp; a, <span class="type">const</span> LongLongInt&amp; b) &#123;</span><br><span class="line">    LongLongInt ans; </span><br><span class="line">    <span class="keyword">if</span> (a == <span class="number">0</span> || b == <span class="number">0</span>) <span class="keyword">return</span> ans;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; b.length; ++i) &#123;</span><br><span class="line">        LongLongInt temp = a.<span class="built_in">digitMulti</span>(b.ch[i] - <span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">        ans = ans + (temp &lt;&lt; i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">LongLongInt LongLongInt::<span class="keyword">operator</span>&lt;&lt;(<span class="type">const</span> <span class="type">int</span>&amp; moveDigit) <span class="type">const</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (length == <span class="number">1</span> &amp;&amp; ch[<span class="number">0</span>] == <span class="string">&#x27;0&#x27;</span> || !moveDigit) <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    LongLongInt ans;</span><br><span class="line">    <span class="type">char</span>* newCh = <span class="keyword">new</span> <span class="type">char</span>[length + moveDigit + <span class="number">1</span>] &#123;<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; moveDigit; ++i) newCh[i] = <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = moveDigit; i &lt; length + moveDigit; ++i) </span><br><span class="line">        newCh[i] = ch[i - moveDigit];</span><br><span class="line">    newCh[length + moveDigit] = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">    ans.ch = newCh; ans.length = length + moveDigit;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">LongLongInt LongLongInt::<span class="keyword">operator</span>&gt;&gt;(<span class="type">const</span> <span class="type">int</span>&amp; moveDigit) <span class="type">const</span> &#123;</span><br><span class="line">    <span class="type">char</span>* newCh; LongLongInt ans;</span><br><span class="line">    <span class="keyword">if</span> (moveDigit &gt;= length) &#123; newCh = <span class="keyword">new</span> <span class="type">char</span>[<span class="number">2</span>] &#123;<span class="string">&#x27;0&#x27;</span>, <span class="string">&#x27;\0&#x27;</span>&#125;; ans.length = <span class="number">1</span>; &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        newCh = <span class="keyword">new</span> <span class="type">char</span>[length - moveDigit + <span class="number">1</span>] &#123;<span class="number">0</span>&#125;;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; length - moveDigit; ++i) newCh[i] = ch[i + moveDigit];</span><br><span class="line">        newCh[length - moveDigit] = <span class="string">&#x27;\0&#x27;</span>; ans.length = length - moveDigit;</span><br><span class="line">    &#125;</span><br><span class="line">    ans.ch = newCh;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Special needs: factorial</span></span><br><span class="line"><span class="function">LongLongInt <span class="title">LongLongInt::factorial</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (*<span class="keyword">this</span> == <span class="number">0</span>) <span class="keyword">return</span> (*<span class="keyword">this</span>) + <span class="built_in">LongLongInt</span>(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (*<span class="keyword">this</span> == <span class="number">1</span> || *<span class="keyword">this</span> == <span class="number">2</span>) <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    LongLongInt ans = <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">for</span> (LongLongInt iL = <span class="number">3</span>;; iL = iL + <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (iL == *<span class="keyword">this</span>) &#123; ans = ans * iL; <span class="keyword">break</span>; &#125;</span><br><span class="line">        ans = ans * iL;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>以上的类在提交代码时可以粘到一个文件中；</p>
<p>方法 1（<strong>贪心-累加剔除法</strong>）：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;self_uInt_3248.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n, tmp = <span class="number">0</span>, maxFactor; cin &gt;&gt; n;</span><br><span class="line">    <span class="keyword">for</span> (maxFactor = <span class="number">2</span>; tmp &lt; n; ++maxFactor) tmp += maxFactor;</span><br><span class="line">    --maxFactor;</span><br><span class="line">    <span class="keyword">if</span> (tmp == n) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">2</span>; i &lt;= maxFactor; ++i) cout &lt;&lt; i &lt;&lt; <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">        cout &lt;&lt; endl &lt;&lt; <span class="built_in">LongLongInt</span>(maxFactor).<span class="built_in">factorial</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="type">int</span> redundant = tmp - n; <span class="function">LongLongInt <span class="title">ans</span><span class="params">(<span class="number">1</span>)</span></span>;</span><br><span class="line">        <span class="keyword">if</span> (redundant == <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> x = <span class="number">3</span>; x &lt; maxFactor; ++x) &#123;</span><br><span class="line">                cout &lt;&lt; x &lt;&lt; <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">                ans = ans * <span class="built_in">LongLongInt</span>(x);</span><br><span class="line">            &#125;</span><br><span class="line">            cout &lt;&lt; maxFactor + <span class="number">1</span> &lt;&lt; <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">            ans = ans * <span class="built_in">LongLongInt</span>(maxFactor + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> x = <span class="number">2</span>; x &lt;= maxFactor; ++x) &#123;</span><br><span class="line">                <span class="keyword">if</span> (x == redundant) <span class="keyword">continue</span>;</span><br><span class="line">                cout &lt;&lt; x &lt;&lt; <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">                ans = ans * <span class="built_in">LongLongInt</span>(x);</span><br><span class="line">            &#125; </span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; endl &lt;&lt; ans;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>方法 2（<strong>动态规划-01背包法</strong>）：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;self_uInt_3248.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> INF 2147483647</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">pack01</span><span class="params">(<span class="type">int</span> itemNum, <span class="type">int</span> capacity, <span class="type">int</span>* costs, <span class="type">double</span>* values, <span class="type">double</span>* maxValue, <span class="type">bool</span>* select)</span> </span>&#123;</span><br><span class="line">    <span class="type">double</span> accept, reject;</span><br><span class="line">    <span class="comment">// 要求恰好填满的背包，初始化为 -INF</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> v = <span class="number">0</span>; v &lt;= capacity; ++v) maxValue[v] = -INF;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= itemNum; ++i) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> v = capacity; v &gt;= costs[i]; --v) &#123;</span><br><span class="line">            reject = maxValue[v], accept = maxValue[v - costs[i]] + values[i];</span><br><span class="line">            select[v] = reject &lt; accept;</span><br><span class="line">            maxValue[v] = reject &gt; accept ? reject : accept;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n; cin &gt;&gt; n;</span><br><span class="line">    <span class="type">int</span>* costs = <span class="keyword">new</span> <span class="type">int</span>[n + <span class="number">1</span>] &#123;<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="type">double</span>* values = <span class="keyword">new</span> <span class="type">double</span>[n + <span class="number">1</span>] &#123;<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="type">double</span>* mValue = <span class="keyword">new</span> <span class="type">double</span>[n + <span class="number">1</span>] &#123;<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="type">bool</span>* select = <span class="keyword">new</span> <span class="type">bool</span>[n + <span class="number">1</span>] &#123;<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) &#123;</span><br><span class="line">        costs[i] = i; values[i] = <span class="built_in">log</span>(i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">pack01</span>(n, n, costs, values, mValue, select);</span><br><span class="line">    </span><br><span class="line">    <span class="function">LongLongInt <span class="title">ans</span><span class="params">(<span class="number">1</span>)</span></span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) &#123;</span><br><span class="line">        <span class="keyword">if</span> (select[i]) &#123;</span><br><span class="line">            cout &lt;&lt; select[i] &lt;&lt; <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">            ans = ans * <span class="built_in">LongLongInt</span>(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; endl &lt;&lt; ans;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>不过很显然的，无论是时间复杂度还是空间复杂度，第二个 <strong>动态规划-01背包算法</strong> 都没有第一个 <strong>贪心-累加剔除的算法</strong> 好；但另一方面，<strong>第二种方法更普适</strong>：第一种方法如果题目稍微更换以下可能就不起作用了；</p>
<p>（小声说：做题的时候根本没想到上面的思路，连蒙带猜地做出来的，写解析的时候才分析出来的，自己感觉很有道理😂</p>
</div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/favicon.ico" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">SJTU-XHW</div><div class="author-info-description">A blog to document learning and life</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">49</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">62</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div><a id="card-info-btn" target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/SSRVodka"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/SSRVodka" rel="external nofollow noreferrer" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:sjtuxhw12345@sjtu.edu.cn" rel="external nofollow noreferrer" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a><a class="social-icon" href="https://blog.sjtuxhw.top/atom.xml" target="_blank" title="RSS"><i class="fas fa-rss" style="color: #a200ff;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">Thanks for visiting! |•'-'•) ✧</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/technical/python-sci-starter/" title="Python 科学计算入门"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.sjtuxhw.top/cover_imgs/python_sci.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Python 科学计算入门"/></a><div class="content"><a class="title" href="/technical/python-sci-starter/" title="Python 科学计算入门">Python 科学计算入门</a><time datetime="2024-11-03T11:08:13.000Z" title="发表于 2024-11-03 19:08:13">2024-11-03</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/technical/hilog-paper/" title="OpenHarmony Hilog 架构趣读"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.sjtuxhw.top/cover_imgs/hilog-paper.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="OpenHarmony Hilog 架构趣读"/></a><div class="content"><a class="title" href="/technical/hilog-paper/" title="OpenHarmony Hilog 架构趣读">OpenHarmony Hilog 架构趣读</a><time datetime="2024-10-29T05:14:04.000Z" title="发表于 2024-10-29 13:14:04">2024-10-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/review/makefile-again/" title="Makefile 快速上手 (again)"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.sjtuxhw.top/cover_imgs/makefile-again.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Makefile 快速上手 (again)"/></a><div class="content"><a class="title" href="/review/makefile-again/" title="Makefile 快速上手 (again)">Makefile 快速上手 (again)</a><time datetime="2024-10-11T02:05:34.000Z" title="发表于 2024-10-11 10:05:34">2024-10-11</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/technical/xss/" title="XSS 是什么？"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.sjtuxhw.top/cover_imgs/xss.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="XSS 是什么？"/></a><div class="content"><a class="title" href="/technical/xss/" title="XSS 是什么？">XSS 是什么？</a><time datetime="2024-10-04T04:15:33.000Z" title="发表于 2024-10-04 12:15:33">2024-10-04</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/technical/xpc-paper/" title="论文阅读 - XPC: Architectural Support for Secure and Efficient Cross Process Call"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.sjtuxhw.top/cover_imgs/xpc-paper.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="论文阅读 - XPC: Architectural Support for Secure and Efficient Cross Process Call"/></a><div class="content"><a class="title" href="/technical/xpc-paper/" title="论文阅读 - XPC: Architectural Support for Secure and Efficient Cross Process Call">论文阅读 - XPC: Architectural Support for Secure and Efficient Cross Process Call</a><time datetime="2024-09-28T13:46:00.000Z" title="发表于 2024-09-28 21:46:00">2024-09-28</time></div></div></div></div><div class="card-widget" id="card-newest-comments"><div class="item-headline"><i class="fas fa-comment-dots"></i><span>最新评论</span></div><div class="aside-list"><span>加载中...</span></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            
          </div>
          <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/chat/"><span class="card-category-list-name">chat</span><span class="card-category-list-count">4</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/literary/"><span class="card-category-list-name">literary</span><span class="card-category-list-count">4</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/review/"><span class="card-category-list-name">review</span><span class="card-category-list-count">12</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/technical/"><span class="card-category-list-name">technical</span><span class="card-category-list-count">28</span></a></li>
          </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/Programmimg/" style="font-size: 1.1em; color: #999">Programmimg</a> <a href="/tags/GNU/" style="font-size: 1.5em; color: #99a9bf">GNU</a> <a href="/tags/MQ/" style="font-size: 1.1em; color: #999">MQ</a> <a href="/tags/CSAPP/" style="font-size: 1.4em; color: #99a5b6">CSAPP</a> <a href="/tags/poem/" style="font-size: 1.2em; color: #999da3">poem</a> <a href="/tags/C/" style="font-size: 1.3em; color: #99a1ac">C++</a> <a href="/tags/SQL/" style="font-size: 1.1em; color: #999">SQL</a> <a href="/tags/essay/" style="font-size: 1.3em; color: #99a1ac">essay</a> <a href="/tags/Matlab/" style="font-size: 1.1em; color: #999">Matlab</a> <a href="/tags/Crack/" style="font-size: 1.1em; color: #999">Crack</a> <a href="/tags/Container/" style="font-size: 1.1em; color: #999">Container</a> <a href="/tags/Flag/" style="font-size: 1.1em; color: #999">Flag</a> <a href="/tags/Algorithm/" style="font-size: 1.1em; color: #999">Algorithm</a> <a href="/tags/Minecraft/" style="font-size: 1.1em; color: #999">Minecraft</a> <a href="/tags/Graph/" style="font-size: 1.2em; color: #999da3">Graph</a> <a href="/tags/External-Search/" style="font-size: 1.1em; color: #999">External-Search</a> <a href="/tags/B-Tree/" style="font-size: 1.1em; color: #999">B+Tree</a> <a href="/tags/Discrete-Math/" style="font-size: 1.2em; color: #999da3">Discrete-Math</a> <a href="/tags/React/" style="font-size: 1.1em; color: #999">React</a> <a href="/tags/TypeScript/" style="font-size: 1.1em; color: #999">TypeScript</a> <a href="/tags/BSTree/" style="font-size: 1.1em; color: #999">BSTree</a> <a href="/tags/Forge/" style="font-size: 1.1em; color: #999">Forge</a> <a href="/tags/Logic/" style="font-size: 1.1em; color: #999">Logic</a> <a href="/tags/CDN/" style="font-size: 1.1em; color: #999">CDN</a> <a href="/tags/Qt/" style="font-size: 1.3em; color: #99a1ac">Qt</a> <a href="/tags/Tree/" style="font-size: 1.1em; color: #999">Tree</a> <a href="/tags/Hash-Table/" style="font-size: 1.1em; color: #999">Hash-Table</a> <a href="/tags/HDC/" style="font-size: 1.1em; color: #999">HDC</a> <a href="/tags/Anime/" style="font-size: 1.1em; color: #999">Anime</a> <a href="/tags/Python/" style="font-size: 1.1em; color: #999">Python</a> <a href="/tags/AI/" style="font-size: 1.1em; color: #999">AI</a> <a href="/tags/Web/" style="font-size: 1.5em; color: #99a9bf">Web</a> <a href="/tags/git/" style="font-size: 1.1em; color: #999">git</a> <a href="/tags/tease/" style="font-size: 1.1em; color: #999">tease</a> <a href="/tags/ICS/" style="font-size: 1.4em; color: #99a5b6">ICS</a> <a href="/tags/novel/" style="font-size: 1.1em; color: #999">novel</a> <a href="/tags/Appreciation/" style="font-size: 1.1em; color: #999">Appreciation</a> <a href="/tags/Spring/" style="font-size: 1.1em; color: #999">Spring</a> <a href="/tags/MicroKernel/" style="font-size: 1.1em; color: #999">MicroKernel</a> <a href="/tags/Linear-List/" style="font-size: 1.1em; color: #999">Linear-List</a></div></div><div class="card-widget card-archives">
    <div class="item-headline">
      <i class="fas fa-archive"></i>
      <span>归档</span>
      <a class="card-more-btn" href="/archives/" title="查看更多"><i class="fas fa-angle-right"></i></a>
    </div>
    <ul class="card-archive-list">
  
      <li class="card-archive-list-item">
        <a class="card-archive-list-link" href="/archives/2024/11/">
          <span class="card-archive-list-date">十一月 2024</span>
          <span class="card-archive-list-count">1</span>
        </a>
      </li>
    
      <li class="card-archive-list-item">
        <a class="card-archive-list-link" href="/archives/2024/10/">
          <span class="card-archive-list-date">十月 2024</span>
          <span class="card-archive-list-count">3</span>
        </a>
      </li>
    
      <li class="card-archive-list-item">
        <a class="card-archive-list-link" href="/archives/2024/09/">
          <span class="card-archive-list-date">九月 2024</span>
          <span class="card-archive-list-count">1</span>
        </a>
      </li>
    
      <li class="card-archive-list-item">
        <a class="card-archive-list-link" href="/archives/2024/07/">
          <span class="card-archive-list-date">七月 2024</span>
          <span class="card-archive-list-count">1</span>
        </a>
      </li>
    
      <li class="card-archive-list-item">
        <a class="card-archive-list-link" href="/archives/2024/06/">
          <span class="card-archive-list-date">六月 2024</span>
          <span class="card-archive-list-count">3</span>
        </a>
      </li>
    
      <li class="card-archive-list-item">
        <a class="card-archive-list-link" href="/archives/2024/05/">
          <span class="card-archive-list-date">五月 2024</span>
          <span class="card-archive-list-count">4</span>
        </a>
      </li>
    
      <li class="card-archive-list-item">
        <a class="card-archive-list-link" href="/archives/2024/04/">
          <span class="card-archive-list-date">四月 2024</span>
          <span class="card-archive-list-count">2</span>
        </a>
      </li>
    
      <li class="card-archive-list-item">
        <a class="card-archive-list-link" href="/archives/2024/03/">
          <span class="card-archive-list-date">三月 2024</span>
          <span class="card-archive-list-count">1</span>
        </a>
      </li>
    </ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站信息</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">49</div></div><div class="webinfo-item"><div class="item-name">运行时间 :</div><div class="item-count" id="runtimeshow" data-publishDate="2023-03-23T16:00:00.000Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总字数 :</div><div class="item-count">414.9k</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总浏览量 :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2024-11-10T11:26:47.494Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2023 - 2024 By SJTU-XHW  |  tech SJTU saves the world</div><div class="framework-info"><span>Built With love &amp; </span><a target="_blank" rel="noopener external nofollow noreferrer" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Powered By </span><a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text"><div style="display:flex;flex-flow:row;justify-content:center;align-items:center;"> <a href="https://beian.miit.gov.cn" rel="external nofollow noreferrer" id="beian" target="_blank">ICP备案：沪ICP备2023012264-1号</a> <span class="footer-separator">|</span> <a style="display:flex;flex-flow:row;align-items:center;" href="https://www.upyun.com/?utm_source=lianmeng&utm_medium=referral" rel="external nofollow noreferrer" target="_blank"> 本网站由 <img style="margin:0 3px;" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/upCloud_logo_blue.png" title="upcloud" alt="upcloud" height="30px"> 提供CDN加速/云存储服务 </a></div></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><a id="to_comment" href="#post-comment" title="前往评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><a class="rightMenu-item" href="javascript:window.history.back();" rel="external nofollow noreferrer"><i class="fa-solid fa-arrow-left"></i></a><a class="rightMenu-item" href="javascript:window.location.reload();" rel="external nofollow noreferrer"><i class="fa-solid fa-arrow-rotate-right"></i></a><a class="rightMenu-item" href="javascript:window.history.forward();" rel="external nofollow noreferrer"><i class="fa-solid fa-arrow-right"></i></a><a class="rightMenu-item" id="menu-radompage" href="javascript:window.location.href = window.location.origin;" rel="external nofollow noreferrer"><i class="fa-solid fa-house"></i></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-text"><a class="rightMenu-item" href="javascript:rmf.copySelect();" rel="external nofollow noreferrer"><i class="fa-solid fa-copy"></i><span>复制</span></a></div><div class="rightMenu-group rightMenu-line"><a class="rightMenu-item" href="javascript:rmf.switchDarkMode();" rel="external nofollow noreferrer"><i class="fa-solid fa-circle-half-stroke"></i><span>昼夜切换</span></a><a class="rightMenu-item" href="javascript:rmf.switchReadMode();" rel="external nofollow noreferrer"><i class="fa-solid fa-book"></i><span>阅读模式</span></a></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><div class="js-pjax"><script>(() => {
  const loadMathjax = () => {
    if (!window.MathJax) {
      window.MathJax = {
        tex: {
          inlineMath: [['$', '$'], ['\\(', '\\)']],
          tags: 'none',
        },
        chtml: {
          scale: 1.1
        },
        options: {
          enableMenu: true,
          renderActions: {
            findScript: [10, doc => {
              for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
                const display = !!node.type.match(/; *mode=display/)
                const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
                const text = document.createTextNode('')
                node.parentNode.replaceChild(text, node)
                math.start = {node: text, delim: '', n: 0}
                math.end = {node: text, delim: '', n: 0}
                doc.math.push(math)
              }
            }, '']
          }
        }
      }
      
      const script = document.createElement('script')
      script.src = 'https://cdn.jsdelivr.net/npm/mathjax/es5/tex-mml-chtml.min.js'
      script.id = 'MathJax-script'
      script.async = true
      document.head.appendChild(script)
    } else {
      MathJax.startup.document.state(0)
      MathJax.texReset()
      MathJax.typesetPromise()
    }
  }

  btf.addGlobalFn('encrypt', loadMathjax, 'mathjax')
  window.pjax ? loadMathjax() : window.addEventListener('load', loadMathjax)
})()</script><script>(() => {
  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: 'https://twikoo.sjtuxhw.top',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(res => {
      countELement.textContent = res[0].count
    }).catch(err => {
      console.error(err)
    })
  }

  const init = () => {
    twikoo.init(Object.assign({
      el: '#twikoo-wrap',
      envId: 'https://twikoo.sjtuxhw.top',
      region: '',
      onCommentLoaded: () => {
        btf.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      }
    }, null))

    GLOBAL_CONFIG_SITE.isPost && getCount()
  }

  const loadTwikoo = () => {
    if (typeof twikoo === 'object') setTimeout(init,0)
    else btf.getScript('https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js').then(init)
  }

  if ('Twikoo' === 'Twikoo' || !false) {
    if (false) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo()
  } else {
    window.loadOtherComment = loadTwikoo
  }
})()</script></div><script>window.newestComments = {
  changeContent: content => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[图片]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[链接]') // replace url
    content = content.replace(/<pre><code>.*?<\/pre>/gi, '[代码]') // replace code
    content = content.replace(/<code>.*?<\/code>/gi, '[代码]') // replace code      
    content = content.replace(/<[^>]+>/g, "") // remove html tag

    if (content.length > 150) {
      content = content.substring(0, 150) + '...'
    }
    return content
  },

  generateHtml: (array, ele) => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class="aside-list-item">'

        if (true && array[i].avatar) {
          const imgAttr = 'data-lazy-src'
          result += `<a href="${array[i].url}" class="thumbnail"><img ${imgAttr}="${array[i].avatar}" alt="${array[i].nick}"></a>`
        }

        result += `<div class="content">
        <a class="comment" href="${array[i].url}" title="${array[i].content}">${array[i].content}</a>
        <div class="name"><span>${array[i].nick} / </span><time datetime="${array[i].date}">${btf.diffDate(array[i].date, true)}</time></div>
        </div></div>`
      }
    } else {
      result += '暂无评论'
    }

    ele.innerHTML = result
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh(ele)
  },

  newestCommentInit: (name, getComment) => {
    const $dom = document.querySelector('#card-newest-comments .aside-list')
    if ($dom) {
      const data = btf.saveToLocal.get(name)
      if (data) {
        newestComments.generateHtml(JSON.parse(data), $dom)
      } else {
        getComment($dom)
      }
    }
  },

  run: (name, getComment) => {
    newestComments.newestCommentInit(name, getComment)
    btf.addGlobalFn('pjaxComplete', () => newestComments.newestCommentInit(name, getComment), name)
  }
}</script><script>window.addEventListener('load', () => {
  const keyName = 'twikoo-newest-comments'
  const { changeContent, generateHtml, run } = window.newestComments

  const getComment = ele => {
    const runTwikoo = () => {
      twikoo.getRecentComments({
        envId: 'https://twikoo.sjtuxhw.top',
        region: '',
        pageSize: 6,
        includeReply: true
      }).then(res => {
        const twikooArray = res.map(e => {
          return {
            'content': changeContent(e.comment),
            'avatar': e.avatar,
            'nick': e.nick,
            'url': e.url + '#' + e.id,
            'date': new Date(e.created).toISOString()
          }
        })

        btf.saveToLocal.set(keyName, JSON.stringify(twikooArray), 10/(60*24))
        generateHtml(twikooArray, ele)
      }).catch(err => {
        console.error(err)
        ele.textContent= "无法获取评论，请确认相关配置是否正确"
      })
    }

    if (typeof twikoo === 'object') {
      runTwikoo()
    } else {
      btf.getScript('https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js').then(runTwikoo)
    }
  }

  run(keyName, getComment)
})</script><script src="/js/rightmenu.js"></script><script src="/js/mourn.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>