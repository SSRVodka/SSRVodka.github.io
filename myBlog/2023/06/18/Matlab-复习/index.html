<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Matlab 复习 | SJTU-XHW's blog</title><meta name="author" content="SJTU-XHW,sjtuxhw12345@sjtu.edu.cn"><meta name="copyright" content="SJTU-XHW"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Written by SJTU_XHW Version: Matlab R2020b References: MATLAB Documentation (mathworks.com)">
<meta property="og:type" content="article">
<meta property="og:title" content="Matlab 复习">
<meta property="og:url" content="https://sjtuxhw.top/2023/06/18/Matlab-%E5%A4%8D%E4%B9%A0/index.html">
<meta property="og:site_name" content="SJTU-XHW&#39;s blog">
<meta property="og:description" content="Written by SJTU_XHW Version: Matlab R2020b References: MATLAB Documentation (mathworks.com)">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.sjtuxhw.top/cover_imgs/matlab.jpeg">
<meta property="article:published_time" content="2023-06-18T11:45:12.000Z">
<meta property="article:modified_time" content="2023-09-19T05:18:38.000Z">
<meta property="article:author" content="SJTU-XHW">
<meta property="article:tag" content="Programming">
<meta property="article:tag" content="Matlab">
<meta property="article:tag" content="Math">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.sjtuxhw.top/cover_imgs/matlab.jpeg"><link rel="shortcut icon" href="/myBlog/img/favicon.ico"><link rel="canonical" href="https://sjtuxhw.top/2023/06/18/Matlab-%E5%A4%8D%E4%B9%A0/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/myBlog/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?64dd3b0c09c8af7b916f8249d32097e2";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script>const GLOBAL_CONFIG = {
  root: '/myBlog/',
  algolia: undefined,
  localSearch: {"path":"/myBlog/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":300},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Matlab 复习',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-09-19 13:18:38'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="stylesheet" href="/myBlog/css/mouseConfig.css"><link rel="stylesheet" href="/myBlog/css/valineBg.css"><link rel="stylesheet" href="/myBlog/css/rightmenu.css"><link rel="stylesheet" href="/myBlog/css/custom_music.css"><link rel="stylesheet" href="/myBlog/css/addFonts.css"><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/myBlog/atom.xml" title="SJTU-XHW's blog" type="application/atom+xml">
</head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><script>(()=>{
  const $loadingBox = document.getElementById('loading-box')
  const $body = document.body
  const preloader = {
    endLoading: () => {
      $body.style.overflow = ''
      $loadingBox.classList.add('loaded')
    },
    initLoading: () => {
      $body.style.overflow = 'hidden'
      $loadingBox.classList.remove('loaded')
    }
  }

  preloader.initLoading()
  window.addEventListener('load',() => { preloader.endLoading() })

  if (true) {
    document.addEventListener('pjax:send', () => { preloader.initLoading() })
    document.addEventListener('pjax:complete', () => { preloader.endLoading() })
  }
})()</script><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/myBlog/img/favicon.ico" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/myBlog/archives/"><div class="headline">文章</div><div class="length-num">38</div></a><a href="/myBlog/tags/"><div class="headline">标签</div><div class="length-num">52</div></a><a href="/myBlog/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/myBlog/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/myBlog/archives/"><i class="fa-fw fa fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/myBlog/tags/"><i class="fa-fw fa fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/myBlog/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/myBlog/dailyQ/"><i class="fa-fw fa-solid fa-pen-to-square"></i><span> DailyQuestion</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fa-solid fa-gamepad"></i><span> ACG-Lab</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/myBlog/ACGLab/MikuTap/"><i class="fa-fw fas fa-music"></i><span> MikuTap</span></a></li><li><a class="site-page child" href="/myBlog/ACGLab/Live2D/"><i class="fa-fw fa-solid fa-face-kiss-wink-heart"></i><span> Live2D</span></a></li><li><a class="site-page child" href="/myBlog/ACGLab/Folio-2019/"><i class="fa-fw fa-solid fa-car-side"></i><span> Folio-2019</span></a></li><li><a class="site-page child" href="/myBlog/ACGLab/Cube/"><i class="fa-fw fa-solid fa-cube"></i><span> Cube</span></a></li><li><a class="site-page child" href="/myBlog/ACGLab/TowerBlocks/"><i class="fa-fw fa-solid fa-gopuram"></i><span> TBlocks</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/myBlog/friend-links/"><i class="fa-fw fas fa-link"></i><span> Links</span></a></div><div class="menus_item"><a class="site-page" href="/myBlog/gallery/"><i class="fa-fw fa fa-camera"></i><span> Gallery</span></a></div><div class="menus_item"><a class="site-page" href="/myBlog/update-log/v0.3.0-Beta.html"><i class="fa-fw fa fa-arrow-circle-up"></i><span> Update</span></a></div><div class="menus_item"><a class="site-page" href="/myBlog/about/"><i class="fa-fw fa fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://cdn.sjtuxhw.top/cover_imgs/matlab.jpeg')"><nav id="nav"><span id="blog-info"><a href="/myBlog/" title="SJTU-XHW's blog"><img class="site-icon" src="/myBlog/img/head_icon.png"/><span class="site-name">SJTU-XHW's blog</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/myBlog/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/myBlog/archives/"><i class="fa-fw fa fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/myBlog/tags/"><i class="fa-fw fa fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/myBlog/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/myBlog/dailyQ/"><i class="fa-fw fa-solid fa-pen-to-square"></i><span> DailyQuestion</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fa-solid fa-gamepad"></i><span> ACG-Lab</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/myBlog/ACGLab/MikuTap/"><i class="fa-fw fas fa-music"></i><span> MikuTap</span></a></li><li><a class="site-page child" href="/myBlog/ACGLab/Live2D/"><i class="fa-fw fa-solid fa-face-kiss-wink-heart"></i><span> Live2D</span></a></li><li><a class="site-page child" href="/myBlog/ACGLab/Folio-2019/"><i class="fa-fw fa-solid fa-car-side"></i><span> Folio-2019</span></a></li><li><a class="site-page child" href="/myBlog/ACGLab/Cube/"><i class="fa-fw fa-solid fa-cube"></i><span> Cube</span></a></li><li><a class="site-page child" href="/myBlog/ACGLab/TowerBlocks/"><i class="fa-fw fa-solid fa-gopuram"></i><span> TBlocks</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/myBlog/friend-links/"><i class="fa-fw fas fa-link"></i><span> Links</span></a></div><div class="menus_item"><a class="site-page" href="/myBlog/gallery/"><i class="fa-fw fa fa-camera"></i><span> Gallery</span></a></div><div class="menus_item"><a class="site-page" href="/myBlog/update-log/v0.3.0-Beta.html"><i class="fa-fw fa fa-arrow-circle-up"></i><span> Update</span></a></div><div class="menus_item"><a class="site-page" href="/myBlog/about/"><i class="fa-fw fa fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Matlab 复习</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-06-18T11:45:12.000Z" title="发表于 2023-06-18 19:45:12">2023-06-18</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-09-19T05:18:38.000Z" title="更新于 2023-09-19 13:18:38">2023-09-19</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/myBlog/categories/technical/">technical</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">8.8k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>34分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-commentcount"><i class="far fa-comments fa-fw post-meta-icon"></i><span class="post-meta-label">评论数:</span><a href="/myBlog/2023/06/18/Matlab-%E5%A4%8D%E4%B9%A0/#post-comment"><span id="twikoo-count"><i class="fa-solid fa-spinner fa-spin"></i></span></a></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p><i>Written by SJTU_XHW</i></p>
<p><i>Version: Matlab R2020b</i></p>
<p><i>References:</i> <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.mathworks.com/help/matlab/">MATLAB Documentation (mathworks.com)</a></p>
<hr>
<span id="more"></span>
<h3 id="Chapter0-Matlab-is-a-1-index-language"><a href="#Chapter0-Matlab-is-a-1-index-language" class="headerlink" title="Chapter0 Matlab is a 1-index language"></a>Chapter0 Matlab is a 1-index language</h3><h3 id="Chapter1-Basic-Operations"><a href="#Chapter1-Basic-Operations" class="headerlink" title="Chapter1 Basic Operations"></a>Chapter1 Basic Operations</h3><h4 id="1-1-operators-numerical-；logical-amp-amp-gt-lt-（按位运算须函数）-；"><a href="#1-1-operators-numerical-；logical-amp-amp-gt-lt-（按位运算须函数）-；" class="headerlink" title="1.1 operators: numerical { +-*/^() } ；logical { ~ || &amp;&amp; &gt; &lt; ==（按位运算须函数） }；"></a>1.1 operators: numerical { +-*/^() } ；logical { ~ || &amp;&amp; &gt; &lt; ==（按位运算须函数） }；</h4><h4 id="1-2-variables-do-not-need-to-be-declaed-before-assignment-类似Python"><a href="#1-2-variables-do-not-need-to-be-declaed-before-assignment-类似Python" class="headerlink" title="1.2 variables: do not need to be declaed before assignment (类似Python)"></a>1.2 variables: do not need to be declaed before assignment (类似Python)</h4><h4 id="1-3-numeric-variable-type：logical、char、numeric、cell、struct、scalar"><a href="#1-3-numeric-variable-type：logical、char、numeric、cell、struct、scalar" class="headerlink" title="1.3 numeric variable type：logical、char、numeric、cell、struct、scalar"></a>1.3 numeric variable type：logical、char、numeric、cell、struct、scalar</h4><h4 id="1-4-constants：ans，i-j，Inf，eps（2-2204e-016），NaN，pi"><a href="#1-4-constants：ans，i-j，Inf，eps（2-2204e-016），NaN，pi" class="headerlink" title="1.4 constants：ans，i/j，Inf，eps（2.2204e-016），NaN，pi"></a>1.4 constants：ans，i/j，Inf，eps（2.2204e-016），NaN，pi</h4><h4 id="1-5-keywords：iskeyword"><a href="#1-5-keywords：iskeyword" class="headerlink" title="1.5 keywords：iskeyword"></a>1.5 keywords：<code>iskeyword</code></h4><h4 id="1-6-calling-priority"><a href="#1-6-calling-priority" class="headerlink" title="1.6 calling priority"></a>1.6 calling priority</h4><blockquote>
<p>local variable $\gt$ built-in fuction $\gt$ subfunction $\gt$ private fuction(self defined: <em>.mex, </em>.p, *.m)</p>
</blockquote>
<h4 id="1-7-numeric-display-“format”"><a href="#1-7-numeric-display-“format”" class="headerlink" title="1.7 numeric display “format”"></a>1.7 numeric display “format”</h4><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">format [options]</span><br></pre></td></tr></table></figure>
<p>short（3.1416）、long（3.1415…）、shortE（3.1416e+00）、longE（3.1415…e+00）、bank（3.14）、hex  、rat（ratio of small integers）</p>
<h4 id="1-8-command-line-terminal"><a href="#1-8-command-line-terminal" class="headerlink" title="1.8 command line terminal"></a>1.8 command line terminal</h4><ol>
<li><p>“;” at the end of a command suppresses output to the terminal.</p>
</li>
<li><p>“↑” display previous commands.</p>
</li>
<li><p><strong>Common commands</strong>：</p>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">clc; <span class="comment">% clear command window display</span></span><br><span class="line">clear; <span class="comment">% remove all variables int the workspace</span></span><br><span class="line">who <span class="comment">% variables in the workspace</span></span><br><span class="line">whos <span class="comment">% variable information of the workspace </span></span><br><span class="line">     <span class="comment">% 作用类似于Python中的语句“\”，起到过长文字换行作用</span></span><br><span class="line"><span class="keyword">end</span>; <span class="comment">%    指代当前上下文中数组最后一行/列的索引</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="Chapter2-Array-Operations"><a href="#Chapter2-Array-Operations" class="headerlink" title="Chapter2 Array Operations"></a>Chapter2 Array Operations</h3><h4 id="2-1-Array-Definition"><a href="#2-1-Array-Definition" class="headerlink" title="2.1 Array Definition"></a>2.1 Array Definition</h4><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">a = [<span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span>]; <span class="comment">% row vector（“，”can be omitted）</span></span><br><span class="line">b = [<span class="number">1</span>; <span class="number">2</span>; <span class="number">3</span>; <span class="number">4</span>]; <span class="comment">% column vector</span></span><br><span class="line">c = [<span class="number">1</span>, <span class="number">21</span>, <span class="number">6</span>;</span><br><span class="line">    <span class="number">5</span>, <span class="number">17</span>, <span class="number">9</span>;</span><br><span class="line">    <span class="number">31</span>, <span class="number">2</span>, <span class="number">7</span>]; <span class="comment">% matrix</span></span><br></pre></td></tr></table></figure>
<h4 id="2-2-Array-Indexing"><a href="#2-2-Array-Indexing" class="headerlink" title="2.2 Array Indexing"></a>2.2 Array Indexing</h4><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">A = [<span class="number">1</span>, <span class="number">21</span>, <span class="number">6</span>;</span><br><span class="line">    <span class="number">5</span>, <span class="number">17</span>, <span class="number">9</span>;</span><br><span class="line">    <span class="number">31</span>, <span class="number">2</span>, <span class="number">7</span>];</span><br><span class="line">    </span><br><span class="line"><span class="comment">% 单参数索引都是“线性索引”-----------</span></span><br><span class="line">A(<span class="number">8</span>) <span class="comment">% 按列来数，第8个元素，这里称它为“线性索引”</span></span><br><span class="line">A([<span class="number">1</span> <span class="number">3</span> <span class="number">5</span>]) <span class="comment">% 以一维向量（数组）作为索引，则每个元素代表一个“线性索引”，构成同形状的数组</span></span><br><span class="line">A([<span class="number">1</span> <span class="number">3</span>; <span class="number">1</span> <span class="number">3</span>]) <span class="comment">% 以矩阵作为索引，每个元素代表一个“线性索引”，构成同一形状的数组</span></span><br><span class="line"></span><br><span class="line"><span class="comment">% 双/多参数索引是普通的行（前）-列（后）索引------------</span></span><br><span class="line">A(<span class="number">3</span>, <span class="number">2</span>) <span class="comment">% 第3行，第2列元素</span></span><br><span class="line">A([<span class="number">1</span> <span class="number">3</span>], [<span class="number">2</span> <span class="number">4</span>]) <span class="comment">% 第1、3行，第2、4列元素构成子式对应的矩阵</span></span><br><span class="line"></span><br><span class="line"><span class="comment">% Colon Operator（省略号操作符）-------------</span></span><br><span class="line"><span class="built_in">j</span>:k <span class="comment">% is equivalent to [j, j+1, j+2, ..., j+m]（j+m ≤ k）</span></span><br><span class="line"><span class="built_in">j</span>:<span class="built_in">i</span>:k <span class="comment">% is equivalent to [j, j+i, j+2i, ..., j+m*i]（j+m*i ≤ k）</span></span><br><span class="line"></span><br><span class="line"><span class="comment">% Examples:</span></span><br><span class="line">B = <span class="number">1</span>:<span class="number">5</span>;</span><br><span class="line">B = <span class="number">1</span>:<span class="number">2</span>:<span class="number">5</span>;</span><br><span class="line">B = [<span class="number">1</span>:<span class="number">5</span>; <span class="number">2</span>:<span class="number">3</span>:<span class="number">15</span>; <span class="number">-2</span>:<span class="number">0.5</span>:<span class="number">0</span>];</span><br><span class="line">str = <span class="string">&#x27;a&#x27;</span>:<span class="number">2</span>:<span class="string">&#x27;z&#x27;</span>;  <span class="comment">% 字符数组</span></span><br><span class="line"><span class="comment">% 与C++、Python都不同，可以直接这样切片数组赋值</span></span><br><span class="line">A(<span class="number">3</span>, :) = [] <span class="comment">% 索引参数由“：”替代时，表示全选该参数位</span></span><br></pre></td></tr></table></figure>
<h4 id="2-4-Array-Concatenation"><a href="#2-4-Array-Concatenation" class="headerlink" title="2.4 Array Concatenation"></a>2.4 Array Concatenation</h4><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">A = [<span class="number">2</span> <span class="number">1</span>;</span><br><span class="line">    <span class="number">3</span> <span class="number">2</span>;</span><br><span class="line">    <span class="number">-2</span> <span class="number">2</span>];</span><br><span class="line">B = [<span class="number">1</span> <span class="number">1</span>;</span><br><span class="line">    <span class="number">3</span> <span class="number">4</span>;</span><br><span class="line">    <span class="number">2</span> <span class="number">2</span>];</span><br><span class="line"></span><br><span class="line">C = [A, B]; <span class="comment">% 行拼接</span></span><br><span class="line">D = [A; B]; <span class="comment">% 列拼接</span></span><br><span class="line"></span><br><span class="line"><span class="comment">% cat函数拼接</span></span><br><span class="line">E = <span class="built_in">cat</span>(dim_direction, A, B);</span><br><span class="line"><span class="comment">% 1=列方向，2=行方向，&gt;2 抽象</span></span><br></pre></td></tr></table></figure>
<h4 id="2-5-Array-Manipulation"><a href="#2-5-Array-Manipulation" class="headerlink" title="2.5 Array Manipulation"></a>2.5 Array Manipulation</h4><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">A [+-*/] const  <span class="comment">% 数组[?]常数--&gt;数组每一个元素都[?]该常数</span></span><br><span class="line">A ^ const  <span class="comment">% 矩阵的const次幂</span></span><br><span class="line">A .^ const  <span class="comment">% 矩阵每个元素分别作const次幂（&quot;.&quot;表示对每个元素操作）</span></span><br><span class="line">A’  <span class="comment">% 矩阵的转置</span></span><br><span class="line">A [+-] B  <span class="comment">% 同型数组之和/差</span></span><br><span class="line">A * B   <span class="comment">% 矩阵乘法</span></span><br><span class="line">A .* B   <span class="comment">% 数组对应元素相乘</span></span><br><span class="line">A / B    <span class="comment">% 与A * inv(B)相同，但内部实现更优</span></span><br><span class="line">A ./ B   <span class="comment">% 数组对应元素相除</span></span><br><span class="line">A \ B    <span class="comment">% inv(A) * B，但内部实现更优。注意和B / A不同！！！</span></span><br><span class="line">A .\ B   <span class="comment">% 对应元素反除，这里相当于 B ./ A</span></span><br></pre></td></tr></table></figure>
<h4 id="2-6-Special-Matrices"><a href="#2-6-Special-Matrices" class="headerlink" title="2.6 Special Matrices"></a>2.6 Special Matrices</h4><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">eye</span>(n);  <span class="comment">% n阶单位矩阵</span></span><br><span class="line"><span class="built_in">zeros</span>(n1, n2);    <span class="comment">% n1×n2 零阵</span></span><br><span class="line"><span class="built_in">ones</span>(n1, n2);    <span class="comment">% n1×n2 1阵</span></span><br><span class="line"><span class="built_in">diag</span>(v, offset=<span class="number">0</span>);    <span class="comment">% 主对角元组成向量v的矩阵，offset＞0，向主对角线上方偏移，反之向下</span></span><br><span class="line"><span class="built_in">diag</span>(A, offset=<span class="number">0</span>);    <span class="comment">% 以上过程的逆过程</span></span><br></pre></td></tr></table></figure>
<h4 id="2-7-Basic-Functions-of-Matrix"><a href="#2-7-Basic-Functions-of-Matrix" class="headerlink" title="2.7 Basic Functions of Matrix"></a>2.7 Basic Functions of Matrix</h4><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">max</span>(A);    <span class="comment">% 向量最大值、矩阵每一列的最大值行向量、多维数组沿第一个数组维度不为1的维度计算，将元素视为向量（这样此维度大小变为1，其他维度不变）。如果第一个数组维度=0，则返回与原数组大小相同的空数组。</span></span><br><span class="line"><span class="built_in">max</span>(A, [], dim);    <span class="comment">% 规定以哪个维度作为“第一维度”的max，1=行，2=列，＞2时抽象</span></span><br><span class="line"><span class="built_in">min</span>(A, [], dim=<span class="number">1</span>);    <span class="comment">% 同理</span></span><br><span class="line">sum(A, dim=<span class="number">1</span>);    <span class="comment">% 处理规则类似max，返回沿不等于1的第一个数组维度的元素之和</span></span><br><span class="line"><span class="built_in">mean</span>(A, dim=<span class="number">1</span>);    <span class="comment">% 处理规则类似max，返回沿不等于1的第一个数组维度的元素的均值</span></span><br><span class="line"><span class="built_in">mean</span>(A, <span class="string">&#x27;all&#x27;</span>);    <span class="comment">% 返回A中所有元素均值</span></span><br><span class="line"><span class="built_in">sort</span>(A, dim=<span class="number">1</span>);    <span class="comment">% 处理规则类似max。向量：对元素排序；矩阵，排序列向量（dim=1）；多维数组：沿不等于1的第一个数组维度计算，将元素视为向量，进行向量排序</span></span><br><span class="line"><span class="built_in">sortrows</span>(A, col=<span class="number">1</span>);    <span class="comment">% 以第一列作为排序依据，若相同，则看第二优先度的列（本质：对行向量排序）</span></span><br><span class="line"><span class="built_in">size</span>(A);    <span class="comment">% 类似Python.numpy的ndarray.shape，这里返回行向量：[dim1, dim2, ...]</span></span><br><span class="line"><span class="comment">% 可以写：[dim1, dim2, ...] = size(A);</span></span><br><span class="line"><span class="built_in">size</span>(A, dim);    <span class="comment">% 指定维度的size</span></span><br><span class="line"><span class="built_in">length</span>(A);    <span class="comment">% 数组最大维度的长度</span></span><br><span class="line"><span class="built_in">find</span>(X);    <span class="comment">% 返回数组（logical数组为多，结合逻辑运算式）中每个非零元素的索引向量（X为向量：返回方向相同的向量；X为矩阵/多维数组：返回“线性索引”组成的列向量）</span></span><br><span class="line"><span class="comment">% find 可选参数：n：前/后n个索引；direction：‘first’/‘last’</span></span><br></pre></td></tr></table></figure>
<h3 id="Chapter3-Structured-Programming"><a href="#Chapter3-Structured-Programming" class="headerlink" title="Chapter3 Structured Programming"></a>Chapter3 Structured Programming</h3><h4 id="3-1-Flow-Control"><a href="#3-1-Flow-Control" class="headerlink" title="3.1 Flow Control"></a>3.1 Flow Control</h4><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">% if - elseif - else</span></span><br><span class="line"><span class="comment">% switch - case - otherwise</span></span><br><span class="line"><span class="comment">% for</span></span><br><span class="line"><span class="comment">% while</span></span><br><span class="line"><span class="comment">% try - catch</span></span><br><span class="line"></span><br><span class="line"><span class="comment">% 条件表达式：不需要括号、不需要冒号、不需要大括号</span></span><br><span class="line"></span><br><span class="line"><span class="comment">% end：以上结构的结束都需要此关键字</span></span><br><span class="line"><span class="comment">% pause：暂停脚本执行</span></span><br><span class="line"></span><br><span class="line"><span class="comment">% break</span></span><br><span class="line"><span class="comment">% continue</span></span><br></pre></td></tr></table></figure>
<h4 id="3-2-Programming-Tip-Pre-allocating-Space-to-Variables"><a href="#3-2-Programming-Tip-Pre-allocating-Space-to-Variables" class="headerlink" title="3.2 Programming Tip: Pre-allocating Space to Variables"></a>3.2 Programming Tip: Pre-allocating Space to Variables</h4><blockquote>
<p>Tips. 提前为变量（尤其是大规模数组）分配内存空间非常必要。Matlab的数组和C++的STL容器类似，使用时会插入元素。当元素数量较多时，频繁分配空间会降低运行效率，所以提前分配好空间（已知大小/大致范围）再更改值会更好。</p>
</blockquote>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">tic                                <span class="comment">% 程序改进：</span></span><br><span class="line"><span class="keyword">for</span> <span class="built_in">i</span>=<span class="number">1</span>:<span class="number">2000</span>                    <span class="comment">% A = zeros(2000, 2000);</span></span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">j</span>=<span class="number">1</span>:<span class="number">2000</span>				<span class="comment">% for i=1:size(A, 1)</span></span><br><span class="line">        A(<span class="built_in">i</span>, <span class="built_in">j</span>) = <span class="built_in">i</span> + <span class="built_in">j</span>;		<span class="comment">%     for j=1:size(A, 2)</span></span><br><span class="line">    <span class="keyword">end</span>							<span class="comment">%         A(i, j) = i + j;</span></span><br><span class="line"><span class="keyword">end</span>                                <span class="comment">%     end</span></span><br><span class="line">toc                                <span class="comment">% end</span></span><br></pre></td></tr></table></figure>
<h4 id="3-3-Good-Habits-for-Script-Writing"><a href="#3-3-Good-Habits-for-Script-Writing" class="headerlink" title="3.3 Good Habits for Script Writing"></a>3.3 Good Habits for Script Writing</h4><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">% At the beginning</span></span><br><span class="line">clear all;    <span class="comment">% 1. Remove previous variables</span></span><br><span class="line">close all;    <span class="comment">% 2. Close all figures</span></span><br><span class="line"><span class="comment">% 3. Use semicolon &quot;;&quot; at the end of commands to inhibit unwanted outputs</span></span><br><span class="line"><span class="comment">% 4. Use ellipsis &quot;...&quot; to make scripts more readable:</span></span><br><span class="line">A = [<span class="number">1</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">4</span> <span class="number">1</span>; ...</span><br><span class="line">     <span class="number">6</span> <span class="number">5</span> <span class="number">2</span> <span class="number">4</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span>];</span><br><span class="line"><span class="comment">% 5. Use &quot;Ctrl + C&quot; to terminate the script before conclusion</span></span><br></pre></td></tr></table></figure>
<h4 id="3-4-Matlab-Functions"><a href="#3-4-Matlab-Functions" class="headerlink" title="3.4 Matlab Functions"></a>3.4 Matlab Functions</h4><ul>
<li><p>方程作为一个单独脚本（*.m）存在，并且文件名必须与方程名相同；</p>
</li>
<li><p>方程文件存放位置必须位于“预设位置”/当前文件夹位置，供程序寻找；</p>
</li>
<li><p>查看内置函数方法：<code>edit(which(&#39;函数名.m&#39;))</code></p>
</li>
<li><p>方程书写规范（以mean.m为例）：</p>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">% 文件名：mean.m</span></span><br><span class="line"><span class="comment">% 关键字 output(s)=FunctionName(Input(s))</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">y</span> = <span class="title">mean</span><span class="params">(x)</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">% 多参数书写方式：e.g., [a F] = acc(v2, v1, t2, t1, m)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">%MEAN Average or mean value.  这里写“Online Help”，即帮助文档</span></span><br><span class="line"><span class="comment">%    S = MEAN(X) is the mean value of the elements in X. 描述清调用方法。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">% MATLAB CODES（函数实现方法）</span></span><br><span class="line"><span class="comment">% ...</span></span><br><span class="line"><span class="keyword">if</span> nargin==<span class="number">2</span> &amp;&amp; ischar(dim)</span><br><span class="line">    flag = dim;</span><br><span class="line"><span class="keyword">elseif</span> nargin &lt; <span class="number">3</span></span><br><span class="line">    flag = <span class="string">&#x27;default&#x27;</span>;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">% ...</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>方程内部预设变量</p>
<ul>
<li><p><code>inputname</code>：Variable name of function input</p>
</li>
<li><p><code>mfilename</code>： File name of currently runing function</p>
</li>
<li><p><code>nargin</code>：Number of the function input arguments（Linux shell：$#）</p>
</li>
<li><p><code>nargout</code>：Number of the function output arguments</p>
</li>
<li><p><code>varargin</code>：Variable length input argument list（Python：args，此处是1×n的cell）</p>
<p>e.g., <code>function y = f(x, t, varargin)</code></p>
</li>
<li><p><code>varargout</code>：Variable length output argument list</p>
</li>
</ul>
</li>
<li><p>特殊函数：Function handles（类似Python、C++的匿名函数）</p>
<ul>
<li>Definition：<code>f = @(x) exp(-2*x)</code></li>
<li>Domain：this file <strong><u>ONLY</u></strong></li>
<li>Usage（example）：<code>x = 0:0.1:2; plot(x, f(x));</code></li>
<li>Tips：”@”用在函数前变为函数指针，可以作为函数参数；</li>
</ul>
</li>
<li><p>常见内置函数</p>
<ul>
<li><p><code>x = input(prompt)</code>：输入变量函数；</p>
</li>
<li><p><code>mod(x, y)</code>：等价于 x % y；</p>
</li>
<li><p><code>num2str(A, [int precision])</code>：将数值数组转为数字的字符数组（尤其在使用数值为绘图添加标签和标题时有用）；</p>
<p><strong><u>以下为针对numeric数组的函数</u></strong></p>
</li>
<li><p><code>reshape(A, row, col)</code>：将A数组的形状改为row行col列（注：item num  = row*col）；</p>
</li>
<li><p><code>linspace(x1, x2, [n])</code>：生成x1~x2间等间距100个点，加上n参数就是n个点；</p>
</li>
<li><p><code>logspace(x1, x2, [n])</code>：生成$10^{x_{1}}$~$10^{x_{2}}$呈以10对数关系间距的50个点；<strong>注意：由于信号系统的方便性，惯例约定当$x_{2}=\pi$时，生成的是$10^{x_{1}}$~$\pi$的对数点</strong>；</p>
</li>
<li><p><code>[X, Y] = meshgrid(xVector, yVector)</code>：生成xVector和yVector交叉点网格矩阵（常用于绘制面图）；</p>
</li>
<li><p><strong><u>注：以下谓词函数缺省参数</u></strong></p>
</li>
<li><p><code>isempty(A)</code>：判空函数（是否为空，即至少一个维度为0的数组）</p>
</li>
<li><p><code>isinteger</code></p>
</li>
<li><p><code>islogical</code></p>
</li>
<li><p><code>isnan</code></p>
</li>
<li><p><code>isinf</code></p>
</li>
<li><p><code>isnumeric</code></p>
</li>
<li><p><code>isprime</code></p>
</li>
<li><p><code>isreal</code></p>
</li>
<li><p><code>ischar</code></p>
</li>
<li><p><code>isequal</code>：numerically</p>
</li>
<li><p><code>isglobal</code></p>
</li>
</ul>
</li>
</ul>
<h3 id="Chapter4-Data-Structure-amp-File-Access"><a href="#Chapter4-Data-Structure-amp-File-Access" class="headerlink" title="Chapter4 Data Structure &amp; File Access"></a>Chapter4 Data Structure &amp; File Access</h3><h4 id="4-1-Data-Types"><a href="#4-1-Data-Types" class="headerlink" title="4.1 Data Types"></a>4.1 Data Types</h4><ul>
<li>可作为1~多维数组元素的数据类型（括号内为C++对应类型）：logical，char，cell，struct，numeric：{ int8、unit8、int16（short）、uint16（unsigned short）、int32（int）、uint32（unsigned）、int64（long long）、uint64（unsigned long long）|   single、double }</li>
<li>作为标量的数据类型：function handle</li>
</ul>
<h4 id="4-2-Numeric"><a href="#4-2-Numeric" class="headerlink" title="4.2 Numeric"></a>4.2 Numeric</h4><ul>
<li>Numeric内部类型间的转换函数均为：类型名()</li>
</ul>
<h4 id="4-3-Char-amp-String"><a href="#4-3-Char-amp-String" class="headerlink" title="4.3 Char &amp; String"></a>4.3 Char &amp; String</h4><ul>
<li>char：和C++相同，底部以数字表示，可以简单认为是ASCII对应数据（uint16），实际上支持中文</li>
<li>string：与普通numeric数组相同，参与逻辑计算方式相同，同一维度可直接拼接。<ul>
<li>定义方式有差异：<code>s = &#39;Example&#39;;</code><strong><u>请注意：使用单引号是char数组，双引号是string对象！！！</u></strong></li>
<li>逻辑运算方式：char数组与char/char数组运算（返回与最长数组同型的logical数组）</li>
<li>重要拓展：<code>str(str == &#39;a&#39;) = &#39;Z&#39;;</code>表示将所有含’a’的位置全换为’Z’（仅限str为char数组）</li>
</ul>
</li>
<li>相互转换函数<ul>
<li><code>string(char_arr)</code>：字符数组转string</li>
<li><code>convertStringsToChars(string/string_arr)</code>：字符串（数组）转字符数组（字符数组元胞）</li>
</ul>
</li>
</ul>
<h4 id="4-4-Structure"><a href="#4-4-Structure" class="headerlink" title="4.4 Structure"></a>4.4 Structure</h4><ul>
<li><p>定义、赋值：和C++不同，无需提前声明结构体的字段（fields）和数据类型，直接赋值即可</p>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">% 以student结构体为例</span></span><br><span class="line"></span><br><span class="line"><span class="comment">% 第一次使用该结构体对象时，对象名即为结构体名</span></span><br><span class="line"><span class="comment">% 第一次定义字段时，在结构体中创建该字段</span></span><br><span class="line">student.name =  <span class="string">&#x27;Alex&#x27;</span>;</span><br><span class="line">student.id = <span class="string">&#x27;12345&#x27;</span>;</span><br><span class="line">student.grade = [<span class="number">100</span>, <span class="number">95</span>, <span class="number">93</span>; ...</span><br><span class="line">                 <span class="number">95</span>, <span class="number">100</span>, <span class="number">91</span>];</span><br><span class="line"><span class="comment">% 目前student既为第一个该类型结构体对象，也为该结构体类型名</span></span><br><span class="line"></span><br><span class="line"><span class="comment">% 第N（N＞1）次应用结构体类型创建新对象时，使用student(N)</span></span><br><span class="line">student(<span class="number">2</span>).name = <span class="string">&#x27;Cindy&#x27;</span>;</span><br><span class="line">student(<span class="number">2</span>).id = <span class="string">&#x27;23456&#x27;</span>;</span><br><span class="line">student(<span class="number">2</span>).grade = []; <span class="comment">% 略</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>内置函数（部分见“cell类型的内置函数”）</p>
<ul>
<li><code>fieldnames(struct)</code>：返回n×1的cell数组，每列cell储存一个字段名（char数组）</li>
<li><code>isfield(struct, fieldname)</code>：检查fieldname字符数组是否为一个struct的字段名</li>
<li><code>isstruct(struct)</code>：struct、是否为一个结构体</li>
<li><code>rmfield(struct, fieldname)</code>：删除struct的fieldname字段</li>
<li><code>orderfields(struct)</code>：将struct的字段按ASCII字典序排序，返回新结构体</li>
<li><code>structfun(function_handle, scalar_struct)</code>：将函数作用于标量结构体的每个字段</li>
</ul>
</li>
</ul>
<h4 id="4-5-Cell"><a href="#4-5-Cell" class="headerlink" title="4.5 Cell"></a>4.5 Cell</h4><ul>
<li><p>定义方式（共3种，前两种也是赋值方式）：普通索引引用、元胞引用、直接书写</p>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">% 普通索引（说明m×n的cell实际由1×1的cell组合而成）</span></span><br><span class="line">A(<span class="number">1</span>, <span class="number">1</span>) = &#123;[<span class="number">1</span> <span class="number">4</span> <span class="number">3</span>; <span class="number">3</span> <span class="number">4</span> <span class="number">2</span>]&#125;;</span><br><span class="line">A(<span class="number">1</span>, <span class="number">2</span>) = &#123;<span class="string">&#x27;Anne Smith&#x27;</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">% 元胞引用</span></span><br><span class="line">A&#123;<span class="number">1</span>, <span class="number">1</span>&#125; = [<span class="number">1</span> <span class="number">4</span> <span class="number">3</span>; <span class="number">3</span> <span class="number">4</span> <span class="number">2</span>];</span><br><span class="line">A&#123;<span class="number">1</span>, <span class="number">2</span>&#125; = <span class="string">&#x27;Anne Smith&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">% 直接书写</span></span><br><span class="line">A = &#123;<span class="string">&#x27;Anne Smith&#x27;</span>, [<span class="number">1</span> <span class="number">2</span> <span class="number">3</span>; <span class="number">2</span> <span class="number">3</span> <span class="number">4</span>]&#125;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>容器的内部机理：实际上每个entry都有指向数据空间的指针，这样使得不同大小数据能存于同一个cell中</p>
</li>
<li><p>内置函数</p>
<ul>
<li><code>cell2mat(cell)</code>：将cell转为numeric数组，拼接方式按所处在cell中位置为准。<strong><u>注意：cell的entries必须全是numeric标量/“对应位置同型”numeric数组</u></strong></li>
<li><code>num2cell(A)</code>：将数组每个元素都作为一个元胞，转换为cell</li>
<li><code>mat2cell(A, dim1List, dim2List, ...)</code>：将mat按每个维度上“元素数量划分列表“转换为cell</li>
<li><code>cell2struct(cell, fields, dim)</code>：将cell转为结构体。</li>
<li><code>struct2cell(struct)</code>：…</li>
<li><code>cellplot(cell)</code>：用figure显示cell的抽象关系</li>
<li><code>iscell(cell)</code>：是否为cell类型</li>
</ul>
</li>
</ul>
<h4 id="4-6-Table"><a href="#4-6-Table" class="headerlink" title="4.6 Table"></a>4.6 Table</h4><ul>
<li>地位：精简行为的结构体，可以和*.csv、数据库等关联，数据处理中比结构体常用</li>
<li>定义：table构造函数<ul>
<li><code>tb = table(record1_arr, record2_arr, ...recordN_arr, &#39;VariableNames&#39;, name_cell)</code></li>
<li>其中，recond1~N_arr都应该是n×1的数组/cell，而name_cell应该是1×N的cell（表的直观印象）</li>
<li>不指定name_cell时，会按照变量名来记录</li>
</ul>
</li>
<li>类型转换函数<ul>
<li><code>array2table(array, &#39;VariableNames&#39;, name_cell);</code>  其中array支持符合形状的cell、数组等</li>
<li><code>table2cell(table)</code>：表格转cell，不包含表头</li>
</ul>
</li>
<li>与结构体一样，直接访问字段名以获得数据（组）：<code>table.FieldName</code></li>
</ul>
<h4 id="4-7-Categorial"><a href="#4-7-Categorial" class="headerlink" title="4.7 Categorial"></a>4.7 Categorial</h4><ul>
<li>地位：类似C++的enum枚举类型，储存有限类型的数据，相较于cell类型，可以规定元素间的大小同时保留易懂的名字，同时意味着能识别相同内容、去重；</li>
<li>定义：<code>categorial(array)</code>：array可以是几乎所有组：numeric array、logical array、cell array等；</li>
<li>展示拥有的分类（可用于去重）：<code>categories(categorial_array)</code></li>
<li>可以用于table数据类型中</li>
</ul>
<h4 id="4-8-File-Access"><a href="#4-8-File-Access" class="headerlink" title="4.8 File Access"></a>4.8 File Access</h4><ul>
<li>save &amp; load：<code>save fileName.mat [variable(s)];  load(&#39;fileName.mat&#39;);</code><ul>
<li>save未指明variable(s)，则保存全工作区变量</li>
</ul>
</li>
<li>针对table的读写：writetable &amp; readtable<ul>
<li><code>writetable(table, fileName)</code>：将表变量写入文件，支持类型：*.csv,*.txt, *.xls, *.xlsx, *.dat等</li>
<li><code>tb = readtable(fileName, &#39;Format&#39;, &#39;...&#39;);</code>：从文件（支持类型同writetable）中读表变量，其中，’Format’的value是格式化字符串，指定每一字段的格式（%s字符向量，%u uint32，%f float64 双精度浮点数，与C++不同）</li>
</ul>
</li>
<li>针对table的大数据量的读写：parquetwrite &amp; parquetread（支持后缀*.parquet，snappy压缩方案）<ul>
<li><code>parquetwrite(fileName, table)</code></li>
<li><code>tb = parquetread(fileName);</code></li>
</ul>
</li>
</ul>
<h3 id="Chapter5-Plotting"><a href="#Chapter5-Plotting" class="headerlink" title="Chapter5 Plotting"></a>Chapter5 Plotting</h3><h4 id="5-1-Basic-Plotting"><a href="#5-1-Basic-Plotting" class="headerlink" title="5.1 Basic Plotting"></a>5.1 Basic Plotting</h4><blockquote>
<p>知识补充：Matlab中的绘图机制以面向对象为核心，<strong>并把控件对象空间包含关系看作继承关系</strong></p>
<p>Figure类 -&gt;（包含有）Axes类 -&gt; {Line类，Text类，Surface类…} </p>
<p>对应：图窗对象（Figure类）、坐标轴对象（Axes类）、函数点集（Line类）、添加文字（Text类）…</p>
<p><strong>常用内置变量：gca（当前正在编辑的axes对象），gcf（当前正在编辑的figure对象）</strong></p>
</blockquote>
<ul>
<li><p>Basic Commands：基本绘图指令；<strong><u>以下命令默认指定当前figure、当前坐标轴等信息</u></strong></p>
<ul>
<li><code>line_obj = plot(x, y, &#39;str&#39;)</code>：’str’={Data_markers, Line_types, Colors}</li>
<li><p><code>[line_objs] =  plot(x1,y1, str1, x2, y2, str2, ...)</code></p>
</li>
<li><p><code>hold on/off</code>：have both plots in one figure</p>
</li>
<li><p><code>legend_obj = legend(&#39;name1&#39;, &#39;name2&#39;,...)</code>：按图线构造顺序标记</p>
</li>
<li><p><code>title_obj = title(str)</code></p>
</li>
<li><p><code>?label_obj = ?label(str)</code>：？可取x，y，z</p>
</li>
<li><p><code>text_obj = text(x_pos, y_pos, LaTex_str, &#39;Interpreter&#39;, &#39;latex&#39;)</code>：插入LaTex行公式</p>
</li>
<li><p><code>annotation_obj  = annotation(&#39;arrow&#39;, &#39;X&#39;, [from,to], &#39;Y&#39;, [from,to])</code>：插入箭头标识</p>
</li>
</ul>
</li>
<li><p>Figure Adjustment：实质是调整控件对象的属性</p>
<blockquote>
<p><code>set(obj, ‘attrName’, attrVal)</code>：修改对象的属性名对应的属性值</p>
<p><code>get(obj)</code>：得到对象的所有属性和对应值（字典形式，一个键值对一行）</p>
<p><code>get(obj, &#39;attrName&#39;)</code>：多用于获得对象的多级属性</p>
<p><code>del(obj)</code>：提前删除对应对象</p>
<p>另外的修改属性方式：<code>obj_attr_dict.attrName = attrVal;</code>（必须是对象字典才能用）</p>
<ul>
<li>拿到对象字典两种方式：get()/直接将对象赋给一个新变量，Matlab会给变量赋字典，而非对象本身</li>
</ul>
</blockquote>
<ul>
<li>Font、Font Size：一般有显示文字的控件都有此属性<ul>
<li>属性名：FontName <strong>[字符数组]</strong>、FontSize <strong>[numeric]</strong>（驼峰命名）</li>
</ul>
</li>
<li>Line Width、Line Style：Line对象属性<i>（可以在plot中以“Name-Value”方式指定）</i><ul>
<li>属性名：LineWidth <strong>[numeric]</strong>、LineStyle <strong>[字符数组]</strong></li>
</ul>
</li>
<li>Marker Size、Marker Colors：Line对象属性（此属性属于Marker子对象）<ul>
<li>属性名：MarkerEdgeColor <strong>[同Color的类型]</strong>、MarkerFaceColor、MarkerSize <strong>[numeric]</strong></li>
</ul>
</li>
<li>Axis Limit：Axes对象属性<ul>
<li>属性名：XLim、YLim（、ZLim）<strong>[1×2 numeric 数组]</strong></li>
</ul>
</li>
<li>Axis Label’s Name：Axes对象的二级属性<ul>
<li>属性名：XLabel.String、YLabel.String（、ZLabel.String）<strong>[string对象 或 char数组]</strong></li>
</ul>
</li>
<li>Tick Position：Axes对象属性<ul>
<li>属性名：XTick、YTick（、ZTick）<strong>[1×n numeric 数组]</strong></li>
</ul>
</li>
<li>Tick Label：Axes对象属性<ul>
<li>属性名：XTickLabel、YTickLabel（、ZTickLabel）<strong>[字符数组 构成的1×n的cell，标量numeric数组也可，底层会转换mat2cell、num2str]</strong></li>
<li>注：在此属性中，‘p’字符指代了$\pi$字符</li>
</ul>
</li>
<li>Color：大部分对象都具有此属性<ul>
<li>属性名：Color <strong>[字符数组（颜色字母/十六进制字符）/ 1×3 numeric数组（RGB矩阵）]</strong></li>
</ul>
</li>
</ul>
</li>
<li><p>Multiple Figures：多图窗使用（position参数不常使用，略）</p>
<ul>
<li>主动创建：<code>fig_obj = figure(&#39;Name&#39;, &#39;标题名称&#39;, &#39;NumberTitle&#39;, &#39;窗口自动编号：on/off&#39;);</code></li>
<li>切换到指定窗口作为当前编辑窗口：<code>figure(&#39;Name&#39;或Number（自动编号开启时）);</code></li>
</ul>
</li>
<li><p>Several Plots in One Figure：子图使用</p>
<ul>
<li>切换到指定子图（同时就是创建）：<code>subplot(m, n, N);</code>：m总列数，n总行数，N按行编号的子图</li>
</ul>
</li>
<li><p>Axis State Adjustment：坐标轴状态调整（关键字法）</p>
<ul>
<li><code>axis/box/grid off/on</code></li>
<li><code>axis normal</code></li>
<li><code>axis square</code>：坐标轴显示部分呈正方形</li>
<li><code>axis equal</code>：横纵（竖）轴标度相等（数据-长度比例对应）</li>
<li><code>axis equal tight</code>：使坐标轴limit适配数据最值</li>
<li><code>axis ij</code>：坐标轴原点置于左上角</li>
<li><code>axis xy</code>：坐标轴原点置于左下角</li>
</ul>
</li>
</ul>
<h4 id="5-2-Advanced-Plotting"><a href="#5-2-Advanced-Plotting" class="headerlink" title="5.2 Advanced Plotting"></a>5.2 Advanced Plotting</h4><ul>
<li><p>Purpose versus Type</p>
<p><img src="pic/adv_purpose.png" height="450"></p>
</li>
<li><p>Commands: Global Color Adjustment</p>
<ul>
<li><code>colormap(RGBMatrix/Built-in-Name)</code>：指定RGB矩阵作为当前配色方案（适用于所有含有闭合面积的图像中）；内置名”jet”, “hot”, “cool”, “gray”, “winter”, “summer”, “autumn”, “parula”, “prism”；</li>
<li><code>colorbar(&#39;southoutside&#39;)</code>：在规定位置显示颜色-值条；</li>
</ul>
</li>
<li><p>Commands: Analysis Gragh</p>
<ul>
<li><p><code>loglog(...)</code>：作双对数轴图；参数使用方法几乎完全与plot相同；</p>
</li>
<li><p><code>semilogx(...) &amp; semilogy(...)</code>：作单对数轴（含有的字母即为对数轴），参数方法同上；</p>
</li>
<li><p><code>yyaxis left/right;</code>：关键字方法，声明使用双y轴，此命令可以切换当前编辑的y轴；</p>
</li>
<li><p><code>histogram(X, nbins/edges)</code>：绘制频度直方图（nbins指定分块数量，edges向量指定边缘，边缘包含左边，不包含右边，末尾分组两边都包含；当不填nbins、edges时自动调整）</p>
</li>
<li><p><code>histogram(CategorialArray, nbins/edges)</code>：为分类数组统计直方图</p>
<p><strong><u>直方图（histogram）对象较于前面的Line对象的属性有所不同（以下列举属性名，提示：属性可以用到时，再在程序中disp查询，下略</u></strong>：</p>
<ul>
<li>Data：直方图源数据；</li>
<li>NumBins、BinWidth：实际分段数、实际分段宽度；</li>
<li><p>BinLimits：[1×2 numeric数组] 实际的分块边界数组；</p>
</li>
<li><p>Values：[1×n numeric数组] 直方图的分段数据，可以用来数据分段；</p>
</li>
<li>FaceColor、EdgeColor：[类型同Color] 直方图的面颜色、边缘颜色；</li>
</ul>
</li>
<li><p><code>bar(Y, [&#39;stacked&#39;])</code>：Y为向量：为每一个元素创建一个条形，高度为其值，横轴名称为排名数字；Y为矩阵时，一列作为一类数据，一行数据作平行比较，最后一个参数指明是否以堆栈形式显示；</p>
</li>
<li><p><code>bar(ticks_arr/categorial, Y, [&#39;stacked&#39;])</code>：作用同上，第一个参数指定横轴（categorial数组可以从大到小匹配、普通数组/字符数组cell只能按索引对齐）；</p>
</li>
<li><p><code>bar3(...)</code>：参数同bar，只是将前面的一行平行比较的数据拉到另一个维度比较，支持 ‘group’、‘stacked’参数；</p>
</li>
<li><p><code>barh(...)</code>：参数类同bar，只是将图数据展示在水平方向上（horizontal）</p>
</li>
<li><p><code>pie(X/categorial, [explode], [labels])</code>：X为一维向量/分类数组（sum(X)＜1，值即面积，展示一部分；sum(X)＞1，面积为比例）；explode为同型向量，指明裂开的部分；labels也为同型向量，可以给定名称；</p>
</li>
<li><p><code>polar(thetaVector, RVector)</code>：作极坐标图；</p>
</li>
<li><p><code>stairs(y)</code>：台阶图；</p>
</li>
<li><p><code>stem(y)</code>：枝干图；</p>
</li>
<li><p><code>boxplot(x, [labels], [&#39;Notched&#39;, &#39;on&#39;])</code>：箱线图（含中位数、上下四分位数、离群值显示），可以指定是否为缺口箱线图，labels可以是字符数组cell，也可以是数组；</p>
</li>
<li><p><code>errorbar(x, y, err)</code>：误差线图；</p>
</li>
<li><p><code>imagesc(matrix)</code>：平面颜色显示矩阵值；</p>
</li>
</ul>
</li>
<li><p>Commands: 3D Plot</p>
<ul>
<li><code>plot3(x1, y1, z1, ..., xN, yN, zN, ...)</code>：”Name-Value”参数几乎与plot相同（参数方程、普通方程皆可）；</li>
<li><code>mesh(x, y, z) &amp; surf(x, y, z)</code>：都能绘出3D网状图，不过mesh是网格（FaceColor透明），surf是平面（FaceColor不透明，可以指定EdgeColor透明）；</li>
<li><p><code>[C, h] = contour(x, y, z)</code>：基于立体图生成等高线图（参数几乎同mesh、surf）；返回两个参数，第一个为绘制点集，第二个为对应高度数组；</p>
<ul>
<li><code>clabel(C, h)</code>：专门对等高线图标记的命令；</li>
</ul>
</li>
<li><p><code>[C, h] = contourf(x, y, z)</code>：上色的等高线图；</p>
</li>
<li><code>meshc(x, y, z) &amp; surfc(x, y, z)</code>：组合等高线图的surf和mesh；</li>
<li><code>[X, Y, Z] = sphere(R)</code>：生成球；</li>
</ul>
</li>
</ul>
<h3 id="Chapter6-Numeric-Differentiation-amp-Integration"><a href="#Chapter6-Numeric-Differentiation-amp-Integration" class="headerlink" title="Chapter6 Numeric Differentiation &amp; Integration"></a>Chapter6 Numeric Differentiation &amp; Integration</h3><h4 id="6-1-Polynomial-Function"><a href="#6-1-Polynomial-Function" class="headerlink" title="6.1 Polynomial Function"></a>6.1 Polynomial Function</h4><ul>
<li>多项式表示法：行向量（最后为$x^{0}$项系数，从右向左一次递增，不得省略）:$9x^{3}+3x+7$ =&gt; [9,0,3,7]；</li>
<li>多项式求值：<code>y = polyval(pVector, x)</code>：求多项式在x数组每个元素上的值；</li>
<li>多项式求导：<code>yd = polyder(pVector)</code>：对多项式关系式求导；</li>
<li>卷积与多项式乘法：<strong><u>两个向量的卷积与这两个向量对应的两个多项式乘积结果对应向量相等</u></strong><ul>
<li><code>conv(pVector1, pVector2)</code>：两个向量的卷积（两个多项式乘法）</li>
</ul>
</li>
<li>多项式积分（含初值）：<code>polyint(pVector, f(0))</code>；给定的f(0)即为多项式常数；</li>
<li>多项式求根：<code>roots(pVector)</code>;</li>
</ul>
<h4 id="6-2-Numerical-Differentiation（数值微分）"><a href="#6-2-Numerical-Differentiation（数值微分）" class="headerlink" title="6.2 Numerical Differentiation（数值微分）"></a>6.2 Numerical Differentiation（数值微分）</h4><ul>
<li>一阶差分运算<code>diff(vector)</code>：计算vector相邻元素之差的向量（返回少一个元素个数的差分向量）；</li>
<li>一阶数值微分近似计算：只要差分运算的向量元素间足够接近，则差分可以对函数微分作近似数值计算；<ul>
<li>举例：<code>x = 0:0.05:pi;  y = sin(x);  m = diff(y)./diff(x);</code>则m向量为各个点间的导数值点；</li>
<li>注意：求导的结果向量比输入向量少一个元素，记得绘图时舍弃一个点再绘图；</li>
</ul>
</li>
<li>高阶数值微分近似计算：多个微分共用x向量；</li>
</ul>
<h4 id="6-3-Numerical-Integration（数值积分）"><a href="#6-3-Numerical-Integration（数值积分）" class="headerlink" title="6.3 Numerical Integration（数值积分）"></a>6.3 Numerical Integration（数值积分）</h4><ul>
<li><p>Midpoint Rule（中间点积分法）：$\int_{a}^{b}{f(x)dx}\approx h\sum_{i=0}^{n-1}f(x_{i})$</p>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">% 以sin(x)从0~1的近似数值积分为例</span></span><br><span class="line">a = <span class="number">0</span>; b = <span class="number">1</span>; bins = <span class="number">500</span>; s = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> <span class="built_in">i</span> = (b-a)/(<span class="number">2</span>*bins):(b-a)/bins:(<span class="number">1</span>-(b-a)/(<span class="number">2</span>*bins))</span><br><span class="line">    s += <span class="built_in">sin</span>(<span class="built_in">i</span>);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">s *= (b - a) / bins;</span><br><span class="line"><span class="comment">% 以上过程可以用sum()更快：</span></span><br><span class="line">midP = (x(<span class="number">1</span>:<span class="keyword">end</span><span class="number">-1</span>)+x(<span class="number">2</span>:<span class="keyword">end</span>))./<span class="number">2</span>;</span><br><span class="line">y = <span class="built_in">sin</span>(midP); s = sum(y * (b-a)/bins);</span><br><span class="line"><span class="comment">% s 即为所求</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>Trapezoid Rule（梯形法则/梯形积分法）：$\int_{a}^{b}{f(x)dx}\approx h[f(a)+f(b)+\dfrac{1}{2}\sum_{i=1}^{n-1}{f(x_{i})}]$</p>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">% 以sin(x)从0~1的近似数值积分为例</span></span><br><span class="line">a = <span class="number">0</span>; b = <span class="number">1</span>; bins = <span class="number">500</span>; s = <span class="number">0</span>;</span><br><span class="line">s += <span class="built_in">sin</span>(a) + <span class="built_in">sin</span>(b);</span><br><span class="line"><span class="keyword">for</span> <span class="built_in">i</span> = (b-a)/bins:(b-a)/bins:(<span class="number">1</span>-(b-a)/bins)</span><br><span class="line">    s += <span class="number">0.5</span> * (<span class="built_in">sin</span>(<span class="built_in">i</span>));</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">s *= (b - a) / bins;</span><br><span class="line"><span class="comment">% s 即为所求</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>也可使用：<code>s = h * trapz(y);</code>其中h为y的取点间隔；</p>
</blockquote>
</li>
<li><p>Simpson’s Rule（辛普森法则/辛普森积分法）：$\int_{a}^{b}{f(x)dx}\approx \dfrac{h}{3}[f(a)+f(b)+4\sum_{i=1}^{2n-1}f(x_{i})+2\sum_{i=2}^{2n-2}f(x_{i})]$</p>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">% 以sin(x)从0~1的近似数值积分为例</span></span><br><span class="line">a = <span class="number">0</span>; b = <span class="number">1</span>; bins = <span class="number">500</span>; s = <span class="number">0</span>;</span><br><span class="line">x = a:(b-a)/bins:b; y = <span class="built_in">sin</span>(x);</span><br><span class="line">s = (b-a)/(<span class="number">3</span>*bins)*(y(<span class="number">1</span>)+y(<span class="keyword">end</span>)+<span class="number">2</span>*sum(y(<span class="number">3</span>:<span class="number">2</span>:<span class="keyword">end</span><span class="number">-1</span>))+<span class="number">4</span>*sum(y(<span class="number">2</span>:<span class="number">2</span>:<span class="keyword">end</span><span class="number">-1</span>)));</span><br><span class="line"><span class="comment">% s 即为所求</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>包装好的数值积分函数</p>
<ul>
<li>辛普森法：<code>quad(function_handle, x_start, x_end);</code></li>
<li>一阶数值积分<code>integral(function_handle, x_start, x_end);</code></li>
<li>二阶数值累次积分：<code>integral(function_handle, x_start, x_end, y_start, y_end);</code></li>
<li>三阶数值累次积分：<code>integral3(function_handle, x_start, x_end, y_start, y_end, z_start, z_end);</code></li>
<li>注：重积分仅介绍符号运算，见符号运算章节</li>
</ul>
</li>
</ul>
<h3 id="Chapter7-Equation-s-Solving-amp-Symbolic-Approach"><a href="#Chapter7-Equation-s-Solving-amp-Symbolic-Approach" class="headerlink" title="Chapter7 Equation(s) Solving &amp; Symbolic Approach"></a>Chapter7 Equation(s) Solving &amp; Symbolic Approach</h3><h4 id="7-1-Symbolic-Representation"><a href="#7-1-Symbolic-Representation" class="headerlink" title="7.1 Symbolic Representation"></a>7.1 Symbolic Representation</h4><blockquote>
<p>Matlab 中的新数据类型：sym符号类型，可以组成sym数组；</p>
<p>定义的：<code>syms x y(x);</code>中x是sym类型，y是symfun类型；等式<code>sin(x) == y</code>也是symfun类型，条件 <code>y(0) == 1</code>也是symfun类型；多个表达式<code>conds = [x == 0, y(1) == 0];</code>的conds是1×2 symfun数组；</p>
</blockquote>
<ul>
<li>Symbolic Variables Definition（<strong>Independent</strong>）：<code>syms a b c...; 或 sym(&#39;x&#39;);</code></li>
<li><p>Symbolic Variables Definition（<strong>Dependent</strong>，常用于解方程中）：<code>syms z(x, y);</code></p>
</li>
<li><p>Symbolic Beautify：<code>pretty(sym_expr)</code></p>
</li>
<li>具体值代入符号：<code>subs(sym_expr, [target_var], value);</code>，当sym_expr为单变量时，target_var可省略</li>
</ul>
<h4 id="7-2-Symbolic-Plotting"><a href="#7-2-Symbolic-Plotting" class="headerlink" title="7.2 Symbolic Plotting"></a>7.2 Symbolic Plotting</h4><ul>
<li><code>fplot(function_handle, [left, right], Name-Value)</code>：按符号绘图；</li>
<li><code>fplot3、fsurf、fcontour</code>：同理</li>
</ul>
<h4 id="7-3-Symbolic-Differentiation-amp-Integration"><a href="#7-3-Symbolic-Differentiation-amp-Integration" class="headerlink" title="7.3 Symbolic Differentiation &amp; Integration"></a>7.3 Symbolic Differentiation &amp; Integration</h4><ul>
<li>Symblic Differentiation：<code>fprime = diff(sym_expr, [arg_sym, n])</code>：对于自变量arg_sym的n阶导数，允许计算偏导数，sym_expr为符号表达式；</li>
<li>Symbolic Integration（Indefined Intergration, 但默认简单的初值）：<code>fs = int(sym_expr, [arg_sym]);</code></li>
<li>重积分（几重添几个int，右边以二重积分为例）：<code>int(int(sym, arg), arg)</code></li>
<li><strong><u>注：无法求解符号积分时，请使用“数值积分”求近似数值</u></strong>；</li>
</ul>
<h4 id="7-4-Normal-Equation-s-Solving-Root-Finding"><a href="#7-4-Normal-Equation-s-Solving-Root-Finding" class="headerlink" title="7.4 Normal Equation(s) Solving: Root Finding"></a>7.4 Normal Equation(s) Solving: Root Finding</h4><blockquote>
<ol>
<li><p>友情提示：线性方程组可以使用矩阵求解、多项式请用6.1的roots命令，可能更快</p>
</li>
<li><p>数据类型提示：无论是这里的solve，还是接下来的dsolve，如果求解有多个结果/变量，返回结果是sym结构体，使用：结果变量.sym_name获得对应sym_name的解析式；</p>
</li>
</ol>
</blockquote>
<ul>
<li><p>求解符号方程：<code>S = solve(eqn, target_var)</code>；</p>
</li>
<li><p>求解符号方程组（传入eqns、target_vars为sym数组）：<code>S = solve(eqns, target_var/target_vars)</code>；</p>
</li>
<li><p><strong><u>注：无法求解符号方程时，先绘图找到大致范围，使用数值近似解</u></strong><code>V = vpasolve(eqn, target_var, [left, right]);</code></p>
</li>
<li><p>解不等式（组）：语法与上述相同，只是解S的结构不同：有parameters（结果是范围，参数方程）、conditions（不等式解）等；</p>
</li>
</ul>
<h4 id="7-5-Differential-Equation-s-Solving"><a href="#7-5-Differential-Equation-s-Solving" class="headerlink" title="7.5 Differential Equation(s) Solving"></a>7.5 Differential Equation(s) Solving</h4><blockquote>
<p>注：纯积分方程可以在7.4中由solve求解；微分、微积分方程可由本部分的dsolve求解。</p>
</blockquote>
<ul>
<li><p>求解符号微分方程：<code>S = dsolve(eqn, cond)</code></p>
<ul>
<li><p>举例：<code>dsolve(diff(y, t, 2) == a*y, [y(0) == 5, subs(diff(y, t), t, 0) == 1]);</code></p>
<p>是给定初值的微分方程：$\dfrac{d^{2}y}{dt^{2}}=ay,\quad y|_{t=0}=5,\quad \dfrac{dy}{dt}|_{t=0}=1$ （其中a为常数）的解</p>
</li>
</ul>
</li>
</ul>
<h3 id="Chapter8-Linear-Algebra-Tools"><a href="#Chapter8-Linear-Algebra-Tools" class="headerlink" title="Chapter8 Linear Algebra Tools"></a>Chapter8 Linear Algebra Tools</h3><ul>
<li>矩阵用于求解线性方程组：结合”Array Operations“和线性代数知识即可，略；</li>
</ul>
<blockquote>
<p>提示：运行后面的矩阵操作前，建议运算这三个参数以评估矩阵的状态</p>
<p>知识补充：矩阵A条件数$\kappa(A)$用于衡量线性方程$Ax=b$的稳定程度，表征系统解$x$在参数A受扰动时是否会受到剧烈影响的情况。数学证明$\kappa(A)=\dfrac{\sigma_{max}}{\sigma_{min}}$，可以认为“构成A的数据组向量两两间越接近共线，即越线性相关，A越易受到扰动”，此类扰动容易导致LU分解的数值不稳定、方程解不稳定。<strong><u>（条件数越小越稳定）</u></strong></p>
</blockquote>
<ul>
<li>求逆、求秩、求条件数$\kappa$：<code>inv(matrix)</code>、<code>rank(matrix)</code>、<code>cond(matrix)</code></li>
<li>Gaussian Elimination（使用初等行变换）：<code>R = rref(matrix);</code></li>
<li>LU Factorization：<code>[L, U] = lu(matrix);</code></li>
<li>LUP Factorization：<code>[L, U, P] = lu(matrix);</code></li>
<li>Cholesky Factorization：<code>U = chol(matrix);</code></li>
</ul>
<blockquote>
<p>知识补充：矩阵LU分解可用于：求线性方程组、求逆矩阵、求行列式</p>
<p>使用LU分解条件：满秩方阵A</p>
<p><strong>警告：数值不稳定，一般改用LUP分解：$PA=LU$，或者在A为对称正定阵时，使用Cholesky Factorization（LU分解的特例、变形：$A=U^{T}U$），实现数值稳定</strong></p>
<p>LU分解操作方法：A通过<strong>左乘</strong>若干初等矩阵得到上三角矩阵U，左边的初等矩阵组合一定为下三角矩阵L（也可以将左边矩阵移动到等式右边，再把这个新的下三角矩阵称为L）</p>
<p>LU分解法求线性方程组：$L\underbrace{Ux}_{y}=b$</p>
<p>LU分解法求逆矩阵：$A^{-1}=U^{-1}L^{-1}$</p>
<p>LU分解求行列式：$|A|=|L||U|$</p>
</blockquote>
<ul>
<li>QR Decomposition：<code>[Q, R] = qr(matrix);</code></li>
</ul>
<blockquote>
<p>知识补充：矩阵正交三角形（QR）分解，求一般矩阵全部特征值的最有效并广泛应用的方法。</p>
</blockquote>
<ul>
<li>SVD（Singular Value Decomposition）：<code>[U, S, V] = svd(matrix);</code></li>
</ul>
<blockquote>
<p>知识补充：矩阵奇异值分解（SVD），相较于普通方阵A可以实现的特征分解（$A=W\Sigma W^{T}$），非方阵A也可以由数学证明，按特征值分解为：$B=U\Sigma V^{T}$，其中$U$是$AA^{T}$方阵的特征向量张成矩阵，这些特征向量称<strong>左特征值向量</strong>；$V$是$A^{T}A$方阵的特征向量张成矩阵，这些特征向量称<strong>右特征向量</strong>（不难得出U、V为正交阵）；$\Sigma$为奇异值在对角线排列的矩阵，<strong>由数学证明，奇异值是特征值的平方根</strong>。</p>
<p>较繁，求解方法请参考各个线性代数书籍。</p>
</blockquote>
<ul>
<li><p>包装好的求特征值和特征向量：<code>[V, D] = eig(matrix);</code></p>
<ul>
<li>其中V为特征值在对角元的对角矩阵；D为对应位置的特征向量张成的矩阵；</li>
</ul>
</li>
<li><p>矩阵指数（Matrix Exponential）：<code>Y = expm(matrix);</code></p>
</li>
</ul>
<blockquote>
<p>矩阵指数的意义：www.bilibili.com 搜索“矩阵指数”-3Blue1Brown</p>
<p>简单认为：应用层面上<strong>有助于解决线性微分方程组</strong></p>
<p>类似于$\dfrac{d}{dt}y=ry$的解是$y=r_{0}e^{rt}$，理解为“如果y增长率为自身的r倍，则y是变化因子$e^{rt}$作用于初值$r_{0}$得到的结果”，$\dfrac{d}{dt}\begin{bmatrix}x(t)\\y(t)\end{bmatrix}=\begin{bmatrix}a &amp; b \ c &amp; d \end{bmatrix}\begin{bmatrix}x(t)\\y(t)\end{bmatrix}$表示向量$\begin{bmatrix}x(t)\\y(t)\end{bmatrix}$在空间中的变化率为初值$\begin{bmatrix}x(0)\\y(0)\end{bmatrix}$在增长因子$e^{\begin{bmatrix}a&amp;b\\c&amp;d\end{bmatrix}t}$作用下的结果：$\begin{bmatrix}x(t)\\y(t)\end{bmatrix}=\begin{bmatrix}x(0)\\y(0)\end{bmatrix}e^{\begin{bmatrix}a&amp;b\\c&amp;d\end{bmatrix}t}$</p>
<p>结论：$\dfrac{d}{dt}\overrightarrow{v(t)}=M·\overrightarrow{v(t)}$ 的解是：$\overrightarrow{v(t)}=\overrightarrow{v_{0}}·e^{Mt}$，其中M为与$\overrightarrow{v(t)}$同维的矩阵，$e^{M}$计算方法是其定义：代入“泰勒级数”：$e^{Mt}=E+Mt+M^{2}\dfrac{t^{2}}{2!}+…+M^{n}\dfrac{t^{n}}{n!}+…$.</p>
</blockquote>
<h3 id="Chapter9-Statistics-amp-Data-Analysis"><a href="#Chapter9-Statistics-amp-Data-Analysis" class="headerlink" title="Chapter9 Statistics &amp; Data Analysis"></a>Chapter9 Statistics &amp; Data Analysis</h3><h4 id="9-1-Desciptive-Statistics"><a href="#9-1-Desciptive-Statistics" class="headerlink" title="9.1 Desciptive Statistics"></a>9.1 Desciptive Statistics</h4><ul>
<li><p>最大值、最小值：<code>max(...)、min(...)</code>（前面介绍过）</p>
</li>
<li><p>平均数、中位数、众数：<code>mean(A, [&#39;all&#39; / dim])、median(...)、mode(...)</code>（后面两个参数同mean，之前介绍过）</p>
</li>
<li><p>分位数：<code>prctile(X, p, [&#39;all&#39; / dim])</code>，其中p∈[0, 100]，函数对X为向量、矩阵、多维数组时的行为和前面的函数一样；</p>
</li>
<li><p>标准差、方差：<code>s = std(X); v = var(X);</code>同理</p>
</li>
<li><p>数据偏度（skewness）：<code>y = skewness(X);</code></p>
<blockquote>
<p>知识补充：数据偏度衡量数据概率密度分布的偏移程度，定义为样本三阶标准化矩：$Skew(X)=E[(\dfrac{X-\mu}{\sigma})^{3}]$当 平均数＜中位数＜众数时，数据分布为“左偏分布”（Left-Skewed，但图形上向右倾斜，Skewnewss＜0）；当众数＜中位数＜平均数时，数据分布为“右偏分布”（Left-Skewed，但图形上向左倾斜，Skewnewss＞0）；正态分布为标准的“对称分布”，偏度为0.</p>
</blockquote>
</li>
<li><p>数据峰度（Kurtosis）<code>y = kurtosis(X);</code></p>
<blockquote>
<p>知识补充：数据峰度表征概率密度分布在平均值处峰值高低大小（也反映了分布曲线顶部的“尖锐程度”），定义为样本四阶标准化中心矩：$Kurt(X)=E[(\dfrac{X-\mu}{\sigma})^{4}]$；相对于正态分布（Kurt=3），Kurt＜3时，瘦尾分布；Kurt＞3，厚尾分布。</p>
</blockquote>
</li>
</ul>
<h4 id="9-2-Inferential-Statistics"><a href="#9-2-Inferential-Statistics" class="headerlink" title="9.2 Inferential Statistics"></a>9.2 Inferential Statistics</h4><ul>
<li>常用函数<ul>
<li><code>rand</code>：返回<code>X~U(0,1)</code>时随机变量X的任意值；</li>
<li><code>rand(n)</code>：n×n的矩阵，每个元素都是rand计算出的，相互独立；</li>
<li><code>rand(dim1, dim2, ...)</code>：生成多维随机矩阵（服从(0,1)均匀分布）；</li>
<li><code>randi(imax, n, [className])</code>：生成1~imax间均匀分布的伪随机数，可指定numeric类型；</li>
<li><code>randi(imax, dim1, dim2, ..., [className])</code>：同理；</li>
<li><code>randn(n)</code>：生成n×n矩阵，元素服从标准正态分布；</li>
<li><code>randn(dim1, dim2, ...)</code>：同理；</li>
<li><code>normrnd(mu, sigma, dim1, dim2, ...)</code>：生成规定大小随机矩阵，服从<code>N(mu, sigma^2)</code>；</li>
<li><code>exprnd(mu, dim1, dim2, ...)</code>：生成规定大小随机矩阵，服从均值为mu的指数分布；</li>
</ul>
</li>
</ul>
<blockquote>
<p>此章节等复习了概率论与数理统计再补充</p>
</blockquote>
<h3 id="Chapter10-Curve-Fitting-amp-Interpolation"><a href="#Chapter10-Curve-Fitting-amp-Interpolation" class="headerlink" title="Chapter10 Curve Fitting &amp; Interpolation"></a>Chapter10 Curve Fitting &amp; Interpolation</h3><blockquote>
<p><strong><u>概念辨析：拟合方法包括回归、插值、逼近等，本章介绍回归和插值</u></strong></p>
<p>插值一定会通过所有数据观测点，但回归不一定</p>
</blockquote>
<h4 id="10-1-Simple-Linear-Regression-单变量线性回归（最小二乘法）"><a href="#10-1-Simple-Linear-Regression-单变量线性回归（最小二乘法）" class="headerlink" title="10.1 Simple Linear Regression: 单变量线性回归（最小二乘法）"></a>10.1 Simple Linear Regression: 单变量线性回归（最小二乘法）</h4><ul>
<li>前提：在一组收集的数据中假设x-y线性相关，满足：$\hat{y_{i}}=\beta_0+\beta_1x_i$</li>
<li>最小二乘法（Least-squares Solution）原理：使平方和误差（Sum of Squared Errors，SSE）最小，即$SSE=\sum\limits_{i}\epsilon_i^2=\sum\limits_i(y_i-\hat{y_i})^2=\sum\limits_i(y_i-\beta_0-\beta_1x_i)^2$最小，求偏导、极值得结论；</li>
<li><p>多项式曲线拟合：<code>pVector = polyfit(xList, yList, order);</code> 其中order为指定拟合多项式的阶数；</p>
<ul>
<li>可以使用双输出参数：<code>[pVector, S] = polyfit(...);</code>，使用结构体S以便进行误差分析：<code>[y_fit, delta] = polyval(pVector, x, S);</code>，其中，95%预测区间为：<code>y_fit ± 2*delta</code>.</li>
</ul>
</li>
<li><p>散点图（除了plot/plot3作散点，此方法也可）：<code>scatter(x, y)、scatter3(x, y, z);</code></p>
<ul>
<li>散点常用后缀参数：“filled”，可使散点实心显示；</li>
</ul>
</li>
<li><p>变量线性相关性（correlation coefficient, 即最小二乘法中的“r值”，-1 ≤ r ≤ 1）：<code>corrcoef(x, y);</code></p>
</li>
<li><strong><u>注：通过数学处理，也可以解决大部分单变量非线性回归问题，例如拟合假设 $\hat{y}=b+alnx$ 可以将数据集x替换为lnx，继续进行线性拟合.</u></strong></li>
</ul>
<h4 id="10-2-Multiple-Linear-Non-Linear-Regression-多变量（非）线性回归"><a href="#10-2-Multiple-Linear-Non-Linear-Regression-多变量（非）线性回归" class="headerlink" title="10.2 Multiple Linear/Non-Linear Regression: 多变量（非）线性回归"></a>10.2 Multiple Linear/Non-Linear Regression: 多变量（非）线性回归</h4><ul>
<li><p>多元线性回归拟合：<code>[b, bint, r, rint, stats] = regress(y, X, [Alpha]);</code></p>
<ul>
<li><p>y：模型观测值（响应值）；</p>
</li>
<li><p>X：模型输入矩阵，要求第一列必须为全1列（以便软件处理模型常数）、接下来几列每列分别存放各个<strong><u>预测因式（不是自变量！！！）</u></strong>参数的取值向量（与y位置对应）</p>
<ul>
<li>预测因式：假设拟合的表达式为：$\hat{y}=\beta_0+\beta_1x_1+\beta_2x_2^2+\beta_3x_1x_2$，则预测因式为：$x_1$、$x_2^2$、$x_1x_2$，X矩阵应该是：<code>X = [ones(length(X1)) X1 X2.^2 X1.*X2];</code></li>
</ul>
</li>
<li><p>Alpha：显著性水平，用于设定100*（1-Alpha）%置信水平，默认0.05；</p>
</li>
<li><p>b：对应于X中预测因式的拟合系数组成的向量；</p>
</li>
<li><p>bint：系数估计值95%置信区间的矩阵（n(b)×2数组，每行表示该拟合点置信边界的上、下界）；</p>
</li>
<li><p>r：拟合-实际点对应残差向量；</p>
</li>
<li><p>rint：用于诊断离群值的区间（n(X)×2数组，每行表示该观测点的离群区间，如果这个区间不包含0，则对应残差在置信区间之外，是离群值）</p>
</li>
<li><p>stats：拟合评估向量 $[R^2, F, p, est]$</p>
</li>
</ul>
</li>
<li><p>非线性回归拟合：<code>beta = nlinfit(X, Y, modelFunc_handle, beta0); 或使用工具cftool();</code></p>
<ul>
<li><p>nlinfit原理：迭代最小二乘法估计</p>
</li>
<li><p>X、Y为数据列表，modelFunc_handle为模型函数指针，beta0为合适的迭代初值</p>
</li>
<li><p>modelFunc如何找，需要对数学模型非常熟悉，按曲线变化类型一个个试；</p>
<p><strong><u>如何得到合适的beta0？</u></strong></p>
</li>
<li><p>目标：越接近真实情况的参数越好（估计实际情况下模型参数大致是多少）</p>
<blockquote>
<p>法1：目测观测点估计法；</p>
<p>法2：代入几个数据点，使用solve/dsolve解出大致参数；</p>
<p>法3：在评估真实参数大致范围（越小越好）后，使用随机数生成；</p>
</blockquote>
</li>
</ul>
</li>
</ul>
<h4 id="10-3-Common-Interpolation"><a href="#10-3-Common-Interpolation" class="headerlink" title="10.3 Common Interpolation"></a>10.3 Common Interpolation</h4><blockquote>
<p>以下两个插值函数都具有外插值默认值，针对不同method有不同赋值方式，只需在method后给定默认外插值即可；</p>
<p>提示：可以对灰度图像矩阵进行插值；</p>
</blockquote>
<ul>
<li>一维数据插值（表查找）：<code>vectorQuery = interp1(x, y, xQuery, method);</code><ul>
<li>x：样本点；y：样本点对应观测值；</li>
<li>xQuery：查询点（一般查询内插值点）；</li>
<li>vectorQuery：查询结果值（估计）；</li>
<li>method：插值方法</li>
</ul>
</li>
</ul>
<p><img src="pic/methods.png"></p>
<blockquote>
<p>注：method=’pchip’等价于命令pchip(…), Piecewise Cubic Hermite Interpolating Polynomial;   method=’spline’等价于命令spline(…), Cubic spline data interpolation;</p>
</blockquote>
<ul>
<li><p>补充相关函数：分段多项式（piecewise polynomial）</p>
<ul>
<li>生成分段多项式：<code>pp = mkpp(breakPointsV, pVectors);</code>（其中pp为结构体，可以被ppval读取）</li>
<li>分段多项式的值：<code>v = ppval(pp, x);</code></li>
<li>直线绘制：<code>line_obj = line([x_s, x_e], [y_s, y_e], [LineSpec]);</code><ul>
<li>用于绘制断点x=x0处的垂直虚线：<code>line([x0, x0], ylim或get(gca).YLim, &#39;--&#39;);</code></li>
</ul>
</li>
</ul>
</li>
<li><p>二维数据插值：<code>vQuery = interp2(X, Y, Z, XQuery, YQuery, method);</code></p>
<ul>
<li>X、Y、Z对应二维数据点及其值，XQuery、YQuery为内部查询点，vQuery为查询值；</li>
<li>同时支持高维数组填充插值：<code>Mq = interp2(M, k);</code>在每维度M的样本间分割k次插入值；</li>
<li>method：插值方式</li>
</ul>
</li>
</ul>
<p><img src="pic/methods2D.png"></p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://sjtuxhw.top">SJTU-XHW</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://sjtuxhw.top/2023/06/18/Matlab-%E5%A4%8D%E4%B9%A0/">https://sjtuxhw.top/2023/06/18/Matlab-%E5%A4%8D%E4%B9%A0/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noreferrer" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://sjtuxhw.top" target="_blank">SJTU-XHW's blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/myBlog/tags/Programming/">Programming</a><a class="post-meta__tags" href="/myBlog/tags/Matlab/">Matlab</a><a class="post-meta__tags" href="/myBlog/tags/Math/">Math</a></div><div class="post_share"><div class="social-share" data-image="https://cdn.sjtuxhw.top/cover_imgs/matlab.jpeg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i>赞助</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/myBlog/img/wechat_pay.jpg" target="_blank"><img class="post-qr-code-img" src="/myBlog/img/wechat_pay.jpg" alt="wechat"/></a><div class="post-qr-code-desc">wechat</div></li><li class="reward-item"><a href="/myBlog/img/alipay.jpg" target="_blank"><img class="post-qr-code-img" src="/myBlog/img/alipay.jpg" alt="alipay"/></a><div class="post-qr-code-desc">alipay</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/myBlog/2023/06/28/SQL%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E7%AC%AC%E4%B8%80%E9%83%A8%E5%88%86/" title="SQL学习笔记-第一部分"><img class="cover" src="https://cdn.sjtuxhw.top/cover_imgs/sql-1.jpg" onerror="onerror=null;src='/myBlog/img/404.png'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">SQL学习笔记-第一部分</div></div></a></div><div class="next-post pull-right"><a href="/myBlog/2023/06/16/CDN%E6%9C%8D%E5%8A%A1%E5%88%86%E6%9E%90%E5%92%8C%E6%8E%A8%E8%8D%90/" title="CDN服务分析和推荐"><img class="cover" src="https://cdn.sjtuxhw.top/cover_imgs/cdn.jpeg" onerror="onerror=null;src='/myBlog/img/404.png'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">CDN服务分析和推荐</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/myBlog/2023/09/17/CSAPP-Notes-Basic/" title="CSAPP Notes Basic"><img class="cover" src="https://cdn.sjtuxhw.top/cover_imgs/csapp_123.jpeg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-09-17</div><div class="title">CSAPP Notes Basic</div></div></a></div><div><a href="/myBlog/2024/04/16/CSAPP-Notes-ECF-I-O/" title="CSAPP Notes: ECF &amp; I&#x2F;O"><img class="cover" src="https://cdn.sjtuxhw.top/cover_imgs/csapp-ecf.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-04-16</div><div class="title">CSAPP Notes: ECF &amp; I&#x2F;O</div></div></a></div><div><a href="/myBlog/2024/04/10/CSAPP-Notes-Memory-Hierarchy-Cache-Opt/" title="CSAPP Notes: Memory Hierarchy &amp; Cache &amp; Opt"><img class="cover" src="https://cdn.sjtuxhw.top/cover_imgs/csapp-mh.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-04-10</div><div class="title">CSAPP Notes: Memory Hierarchy &amp; Cache &amp; Opt</div></div></a></div><div><a href="/myBlog/2023/11/11/CSAPP-Notes-Scheduler-Arch/" title="CSAPP Notes: Scheduler &amp; Arch"><img class="cover" src="https://cdn.sjtuxhw.top/cover_imgs/csapp_p2.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-11-11</div><div class="title">CSAPP Notes: Scheduler &amp; Arch</div></div></a></div><div><a href="/myBlog/2023/04/28/GNU-Tutor/" title="GNU-Tutor"><img class="cover" src="https://cdn.sjtuxhw.top/cover_imgs/GNU-Tutor.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-04-28</div><div class="title">GNU-Tutor</div></div></a></div><div><a href="/myBlog/2023/04/28/Git%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="Git学习笔记"><img class="cover" src="https://cdn.sjtuxhw.top/cover_imgs/git.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-04-28</div><div class="title">Git学习笔记</div></div></a></div></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/myBlog/img/favicon.ico" onerror="this.onerror=null;this.src='/myBlog/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">SJTU-XHW</div><div class="author-info__description">A blog to document learning and life</div></div><div class="card-info-data site-data is-center"><a href="/myBlog/archives/"><div class="headline">文章</div><div class="length-num">38</div></a><a href="/myBlog/tags/"><div class="headline">标签</div><div class="length-num">52</div></a><a href="/myBlog/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div><a id="card-info-btn" target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/SSRVodka"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/SSRVodka" rel="external nofollow noreferrer" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:sjtuxhw12345@sjtu.edu.cn" rel="external nofollow noreferrer" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a><a class="social-icon" href="https://sjtuxhw.top/myBlog/atom.xml" target="_blank" title="RSS"><i class="fas fa-rss" style="color: #a200ff;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">Thanks for visiting! ‎|•'-'•) ✧</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#Chapter0-Matlab-is-a-1-index-language"><span class="toc-text">Chapter0 Matlab is a 1-index language</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Chapter1-Basic-Operations"><span class="toc-text">Chapter1 Basic Operations</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1-operators-numerical-%EF%BC%9Blogical-amp-amp-gt-lt-%EF%BC%88%E6%8C%89%E4%BD%8D%E8%BF%90%E7%AE%97%E9%A1%BB%E5%87%BD%E6%95%B0%EF%BC%89-%EF%BC%9B"><span class="toc-text">1.1 operators: numerical { +-*&#x2F;^() } ；logical { ~ || &amp;&amp; &gt; &lt; &#x3D;&#x3D;（按位运算须函数） }；</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-variables-do-not-need-to-be-declaed-before-assignment-%E7%B1%BB%E4%BC%BCPython"><span class="toc-text">1.2 variables: do not need to be declaed before assignment (类似Python)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-numeric-variable-type%EF%BC%9Alogical%E3%80%81char%E3%80%81numeric%E3%80%81cell%E3%80%81struct%E3%80%81scalar"><span class="toc-text">1.3 numeric variable type：logical、char、numeric、cell、struct、scalar</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-4-constants%EF%BC%9Aans%EF%BC%8Ci-j%EF%BC%8CInf%EF%BC%8Ceps%EF%BC%882-2204e-016%EF%BC%89%EF%BC%8CNaN%EF%BC%8Cpi"><span class="toc-text">1.4 constants：ans，i&#x2F;j，Inf，eps（2.2204e-016），NaN，pi</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-5-keywords%EF%BC%9Aiskeyword"><span class="toc-text">1.5 keywords：iskeyword</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-6-calling-priority"><span class="toc-text">1.6 calling priority</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-7-numeric-display-%E2%80%9Cformat%E2%80%9D"><span class="toc-text">1.7 numeric display “format”</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-8-command-line-terminal"><span class="toc-text">1.8 command line terminal</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Chapter2-Array-Operations"><span class="toc-text">Chapter2 Array Operations</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-Array-Definition"><span class="toc-text">2.1 Array Definition</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-Array-Indexing"><span class="toc-text">2.2 Array Indexing</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4-Array-Concatenation"><span class="toc-text">2.4 Array Concatenation</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-5-Array-Manipulation"><span class="toc-text">2.5 Array Manipulation</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-6-Special-Matrices"><span class="toc-text">2.6 Special Matrices</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-7-Basic-Functions-of-Matrix"><span class="toc-text">2.7 Basic Functions of Matrix</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Chapter3-Structured-Programming"><span class="toc-text">Chapter3 Structured Programming</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-Flow-Control"><span class="toc-text">3.1 Flow Control</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-Programming-Tip-Pre-allocating-Space-to-Variables"><span class="toc-text">3.2 Programming Tip: Pre-allocating Space to Variables</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-3-Good-Habits-for-Script-Writing"><span class="toc-text">3.3 Good Habits for Script Writing</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-4-Matlab-Functions"><span class="toc-text">3.4 Matlab Functions</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Chapter4-Data-Structure-amp-File-Access"><span class="toc-text">Chapter4 Data Structure &amp; File Access</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-Data-Types"><span class="toc-text">4.1 Data Types</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-2-Numeric"><span class="toc-text">4.2 Numeric</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-3-Char-amp-String"><span class="toc-text">4.3 Char &amp; String</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-4-Structure"><span class="toc-text">4.4 Structure</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-5-Cell"><span class="toc-text">4.5 Cell</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-6-Table"><span class="toc-text">4.6 Table</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-7-Categorial"><span class="toc-text">4.7 Categorial</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-8-File-Access"><span class="toc-text">4.8 File Access</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Chapter5-Plotting"><span class="toc-text">Chapter5 Plotting</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#5-1-Basic-Plotting"><span class="toc-text">5.1 Basic Plotting</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-2-Advanced-Plotting"><span class="toc-text">5.2 Advanced Plotting</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Chapter6-Numeric-Differentiation-amp-Integration"><span class="toc-text">Chapter6 Numeric Differentiation &amp; Integration</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#6-1-Polynomial-Function"><span class="toc-text">6.1 Polynomial Function</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-2-Numerical-Differentiation%EF%BC%88%E6%95%B0%E5%80%BC%E5%BE%AE%E5%88%86%EF%BC%89"><span class="toc-text">6.2 Numerical Differentiation（数值微分）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-3-Numerical-Integration%EF%BC%88%E6%95%B0%E5%80%BC%E7%A7%AF%E5%88%86%EF%BC%89"><span class="toc-text">6.3 Numerical Integration（数值积分）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Chapter7-Equation-s-Solving-amp-Symbolic-Approach"><span class="toc-text">Chapter7 Equation(s) Solving &amp; Symbolic Approach</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#7-1-Symbolic-Representation"><span class="toc-text">7.1 Symbolic Representation</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-2-Symbolic-Plotting"><span class="toc-text">7.2 Symbolic Plotting</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-3-Symbolic-Differentiation-amp-Integration"><span class="toc-text">7.3 Symbolic Differentiation &amp; Integration</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-4-Normal-Equation-s-Solving-Root-Finding"><span class="toc-text">7.4 Normal Equation(s) Solving: Root Finding</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-5-Differential-Equation-s-Solving"><span class="toc-text">7.5 Differential Equation(s) Solving</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Chapter8-Linear-Algebra-Tools"><span class="toc-text">Chapter8 Linear Algebra Tools</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Chapter9-Statistics-amp-Data-Analysis"><span class="toc-text">Chapter9 Statistics &amp; Data Analysis</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#9-1-Desciptive-Statistics"><span class="toc-text">9.1 Desciptive Statistics</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#9-2-Inferential-Statistics"><span class="toc-text">9.2 Inferential Statistics</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Chapter10-Curve-Fitting-amp-Interpolation"><span class="toc-text">Chapter10 Curve Fitting &amp; Interpolation</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#10-1-Simple-Linear-Regression-%E5%8D%95%E5%8F%98%E9%87%8F%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92%EF%BC%88%E6%9C%80%E5%B0%8F%E4%BA%8C%E4%B9%98%E6%B3%95%EF%BC%89"><span class="toc-text">10.1 Simple Linear Regression: 单变量线性回归（最小二乘法）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#10-2-Multiple-Linear-Non-Linear-Regression-%E5%A4%9A%E5%8F%98%E9%87%8F%EF%BC%88%E9%9D%9E%EF%BC%89%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92"><span class="toc-text">10.2 Multiple Linear&#x2F;Non-Linear Regression: 多变量（非）线性回归</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#10-3-Common-Interpolation"><span class="toc-text">10.3 Common Interpolation</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/myBlog/2024/05/06/Java-Spring-Boot-%E5%85%A5%E9%97%A8/" title="Java Spring Boot 入门"><img src="https://cdn.sjtuxhw.top/cover_imgs/spring-boot.jpg" onerror="this.onerror=null;this.src='/myBlog/img/404.png'" alt="Java Spring Boot 入门"/></a><div class="content"><a class="title" href="/myBlog/2024/05/06/Java-Spring-Boot-%E5%85%A5%E9%97%A8/" title="Java Spring Boot 入门">Java Spring Boot 入门</a><time datetime="2024-05-06T11:12:30.000Z" title="发表于 2024-05-06 19:12:30">2024-05-06</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/myBlog/2024/05/02/Java-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%8C%EF%BC%89/" title="Java 学习笔记（二）"><img src="https://cdn.sjtuxhw.top/cover_imgs/java2.jpg" onerror="this.onerror=null;this.src='/myBlog/img/404.png'" alt="Java 学习笔记（二）"/></a><div class="content"><a class="title" href="/myBlog/2024/05/02/Java-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%8C%EF%BC%89/" title="Java 学习笔记（二）">Java 学习笔记（二）</a><time datetime="2024-05-02T10:09:13.000Z" title="发表于 2024-05-02 18:09:13">2024-05-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/myBlog/2024/04/16/CSAPP-Notes-ECF-I-O/" title="CSAPP Notes: ECF &amp; I/O"><img src="https://cdn.sjtuxhw.top/cover_imgs/csapp-ecf.jpg" onerror="this.onerror=null;this.src='/myBlog/img/404.png'" alt="CSAPP Notes: ECF &amp; I/O"/></a><div class="content"><a class="title" href="/myBlog/2024/04/16/CSAPP-Notes-ECF-I-O/" title="CSAPP Notes: ECF &amp; I/O">CSAPP Notes: ECF &amp; I/O</a><time datetime="2024-04-16T05:58:54.000Z" title="发表于 2024-04-16 13:58:54">2024-04-16</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/myBlog/2024/04/10/CSAPP-Notes-Memory-Hierarchy-Cache-Opt/" title="CSAPP Notes: Memory Hierarchy &amp; Cache &amp; Opt"><img src="https://cdn.sjtuxhw.top/cover_imgs/csapp-mh.jpg" onerror="this.onerror=null;this.src='/myBlog/img/404.png'" alt="CSAPP Notes: Memory Hierarchy &amp; Cache &amp; Opt"/></a><div class="content"><a class="title" href="/myBlog/2024/04/10/CSAPP-Notes-Memory-Hierarchy-Cache-Opt/" title="CSAPP Notes: Memory Hierarchy &amp; Cache &amp; Opt">CSAPP Notes: Memory Hierarchy &amp; Cache &amp; Opt</a><time datetime="2024-04-10T02:01:25.000Z" title="发表于 2024-04-10 10:01:25">2024-04-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/myBlog/2024/03/18/TypeScript%E7%AC%94%E8%AE%B0/" title="TypeScript笔记"><img src="https://cdn.sjtuxhw.top/cover_imgs/typescript.png" onerror="this.onerror=null;this.src='/myBlog/img/404.png'" alt="TypeScript笔记"/></a><div class="content"><a class="title" href="/myBlog/2024/03/18/TypeScript%E7%AC%94%E8%AE%B0/" title="TypeScript笔记">TypeScript笔记</a><time datetime="2024-03-18T14:56:29.000Z" title="发表于 2024-03-18 22:56:29">2024-03-18</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2023 - 2024 By SJTU-XHW  |  tech SJTU saves the world</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener external nofollow noreferrer" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text"><a href="https://beian.miit.gov.cn" rel="external nofollow noreferrer" id="beian" target="_blank">ICP备案：沪ICP备2023012264-1号</a> <a href="https://www.upyun.com/?utm_source=lianmeng&utm_medium=referral" rel="external nofollow noreferrer" target="_blank"> &nbsp;|&nbsp;&nbsp;本网站由 <img src="/img/upCloud_logo.png" title="upcloud" alt="upcloud" height="30px"> 提供CDN加速/云存储服务 </a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><a class="rightMenu-item" href="javascript:window.history.back();" rel="external nofollow noreferrer"><i class="fa-solid fa-arrow-left"></i></a><a class="rightMenu-item" href="javascript:window.location.reload();" rel="external nofollow noreferrer"><i class="fa-solid fa-arrow-rotate-right"></i></a><a class="rightMenu-item" href="javascript:window.history.forward();" rel="external nofollow noreferrer"><i class="fa-solid fa-arrow-right"></i></a><a class="rightMenu-item" id="menu-radompage" href="javascript:window.location.href = window.location.origin;" rel="external nofollow noreferrer"><i class="fa-solid fa-house"></i></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-text"><a class="rightMenu-item" href="javascript:rmf.copySelect();" rel="external nofollow noreferrer"><i class="fa-solid fa-copy"></i><span>复制</span></a></div><div class="rightMenu-group rightMenu-line"><a class="rightMenu-item" href="javascript:rmf.switchDarkMode();" rel="external nofollow noreferrer"><i class="fa-solid fa-circle-half-stroke"></i><span>昼夜切换</span></a><a class="rightMenu-item" href="javascript:rmf.switchReadMode();" rel="external nofollow noreferrer"><i class="fa-solid fa-book"></i><span>阅读模式</span></a></div></div><div><script src="/myBlog/js/utils.js"></script><script src="/myBlog/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"><script>if (!window.MathJax) {
  window.MathJax = {
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']],
      tags: 'ams'
    },
    chtml: {
      scale: 1.1
    },
    options: {
      renderActions: {
        findScript: [10, doc => {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/)
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
            const text = document.createTextNode('')
            node.parentNode.replaceChild(text, node)
            math.start = {node: text, delim: '', n: 0}
            math.end = {node: text, delim: '', n: 0}
            doc.math.push(math)
          }
        }, '']
      }
    }
  }
  
  const script = document.createElement('script')
  script.src = 'https://cdn.jsdelivr.net/npm/mathjax/es5/tex-mml-chtml.min.js'
  script.id = 'MathJax-script'
  script.async = true
  document.head.appendChild(script)
} else {
  MathJax.startup.document.state(0)
  MathJax.texReset()
  MathJax.typesetPromise()
}</script><script>(() => {
  const init = () => {
    twikoo.init(Object.assign({
      el: '#twikoo-wrap',
      envId: 'https://twikoo.sjtuxhw.top',
      region: '',
      onCommentLoaded: () => {
        btf.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      }
    }, null))
  }

  const loadTwikoo = () => {
    if (typeof twikoo === 'object') setTimeout(init,0)
    else getScript('https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js').then(init)
  }

  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: 'https://twikoo.sjtuxhw.top',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(res => {
      countELement.textContent = res[0].count
    }).catch(err => {
      console.error(err)
    })
  }

  if ('Twikoo' === 'Twikoo' || !false) {
    if (false) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else {
      loadTwikoo()
      GLOBAL_CONFIG_SITE.isPost && getCount()
    }
  } else {
    window.loadOtherComment = loadTwikoo
  }
})()</script></div><script>window.addEventListener('load', () => {
  const changeContent = (content) => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[图片]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[链接]') // replace url
    content = content.replace(/<pre><code>.*?<\/pre>/gi, '[代码]') // replace code
    content = content.replace(/<[^>]+>/g,"") // remove html tag

    if (content.length > 150) {
      content = content.substring(0,150) + '...'
    }
    return content
  }

  const getComment = () => {
    const runTwikoo = () => {
      twikoo.getRecentComments({
        envId: 'https://twikoo.sjtuxhw.top',
        region: '',
        pageSize: 6,
        includeReply: true
      }).then(function (res) {
        const twikooArray = res.map(e => {
          return {
            'content': changeContent(e.comment),
            'avatar': e.avatar,
            'nick': e.nick,
            'url': e.url + '#' + e.id,
            'date': new Date(e.created).toISOString()
          }
        })

        saveToLocal.set('twikoo-newest-comments', JSON.stringify(twikooArray), 10/(60*24))
        generateHtml(twikooArray)
      }).catch(function (err) {
        const $dom = document.querySelector('#card-newest-comments .aside-list')
        $dom.textContent= "无法获取评论，请确认相关配置是否正确"
      })
    }

    if (typeof twikoo === 'object') {
      runTwikoo()
    } else {
      getScript('https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js').then(runTwikoo)
    }
  }

  const generateHtml = array => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class=\'aside-list-item\'>'

        if (true) {
          const name = 'src'
          result += `<a href='${array[i].url}' class='thumbnail'><img ${name}='${array[i].avatar}' alt='${array[i].nick}'></a>`
        }
        
        result += `<div class='content'>
        <a class='comment' href='${array[i].url}' title='${array[i].content}'>${array[i].content}</a>
        <div class='name'><span>${array[i].nick} / </span><time datetime="${array[i].date}">${btf.diffDate(array[i].date, true)}</time></div>
        </div></div>`
      }
    } else {
      result += '没有评论'
    }

    let $dom = document.querySelector('#card-newest-comments .aside-list')
    $dom.innerHTML= result
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh($dom)
  }

  const newestCommentInit = () => {
    if (document.querySelector('#card-newest-comments .aside-list')) {
      const data = saveToLocal.get('twikoo-newest-comments')
      if (data) {
        generateHtml(JSON.parse(data))
      } else {
        getComment()
      }
    }
  }

  newestCommentInit()
  document.addEventListener('pjax:complete', newestCommentInit)
})</script><script src="/myBlog/js/jquery-3.7.0.min.js"></script><script src="/myBlog/js/rightmenu.js"></script><div class="aplayer no-destroy" data-id="6898044781" data-server="netease" data-type="playlist" data-fixed="true" data-autoplay="false"></div><script src="/myBlog/js/mourn.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="/myBlog/js/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/metingjs/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener
  btf.removeGlobalFnEvent('pjax')
  btf.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/myBlog/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/myBlog/js/search/local-search.js"></script></div></div></body></html>